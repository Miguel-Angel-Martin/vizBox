import { Component, Input, Output, ViewEncapsulation, EventEmitter, HostBinding } from '@angular/core';
import '@avl-controls/core/dist/avl-app-switcher/avl-app-switcher';
import '@avl-controls/core/dist/avl-icon/avl-icon.js';
import * as i0 from "@angular/core";
import * as i1 from "./avl-app-bar-item.component";
import * as i2 from "@angular/common";
import * as i3 from "@angular/router";
import * as i4 from "@avl-controls/ng-binders";
export class MenuButtonItems {
    constructor(headerText, headerIconName, items, footerItems) {
        this.headerText = headerText;
        this.headerIconName = headerIconName;
        this.items = items;
        this.footerItems = footerItems;
    }
}
/**
 * Object representing sub-application that is added to app-bar drop-down
 */
export class ApplicationReference {
}
export class AvlAppBarComponent {
    constructor() {
        /**
         * List of sub-applications used
         */
        this.applications = [];
        /**
         * Event emitted when new application is added.
         */
        this.applicationListChange = new EventEmitter();
        /**
         * Flag indicating app-bar has fixed positioning or no
         */
        this.fixed = true;
        /**
         * Event emitted when application is changed in app-bar drop-down
         */
        this.currentApplicationChange = new EventEmitter();
        /**
         * Event emmited when Burger menu is clicked.
         * Toggles side-nav visibility if app-bar is part of app-layout in responsive mode
         */
        this.burgerClicked = new EventEmitter();
        /** @hidden */
        this.appLogoSet = false;
        this.appLogoPreset = false;
    }
    /**
     * True if only one element added to applications array
     */
    get isSingleApp() {
        return !this.applications || this._appsLength < 2;
    }
    /**
     * @hidden
     */
    get showAppLogo() {
        if (this.currentApplication == null)
            return false;
        const image = this.currentApplication.image;
        return !(image == null || image === '');
    }
    /**
     * @hidden
     */
    burgerIconClicked() {
        this.burgerClicked.emit();
    }
    /**
     * @hidden
     */
    onApplicationChanged(app) {
        this.currentApplication = app;
        if (!this.appLogoPreset) {
            setTimeout(() => {
                this.appLogoSet = true;
                this.appLogo = this.currentApplication.image;
            });
        }
        this.currentApplicationChange.emit(this.currentApplication);
    }
    /**
     * @hidden
     */
    onApplicationListChanged(apps) {
        this.applications = apps;
        this.applicationListChange.emit(this.applications);
    }
    /** @hidden */
    ngOnInit() {
        if (this.appLogo) {
            this.appLogoSet = true;
            this.appLogoPreset = true;
        }
        else {
            this.appLogo = this.currentApplication ? this.currentApplication.image : '';
            this.appLogoSet = true;
        }
        this._appsLength = this.applications ? this.applications.length : 0;
    }
}
AvlAppBarComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.0.3", ngImport: i0, type: AvlAppBarComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
AvlAppBarComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.0.3", type: AvlAppBarComponent, selector: "avl-app-bar", inputs: { currentApplication: "currentApplication", responsive: "responsive", mobile: "mobile", homePageUrl: "homePageUrl", appLogo: "appLogo", applications: "applications", fixed: "fixed" }, outputs: { applicationListChange: "applicationListChange", currentApplicationChange: "currentApplicationChange", burgerClicked: "burgerClicked" }, host: { properties: { "class.responsive": "this.responsive", "class.mobile": "this.mobile" } }, ngImport: i0, template: "<header id=\"header\" class=\"mdc-toolbar mdc-toolbar--waterfall\" [ngClass]=\"{'mdc-toolbar--fixed': fixed}\">\r\n  <div class=\"mdc-toolbar__row\">\r\n    <section class=\"mdc-toolbar__section mdc-toolbar__section--align-start mdc-toolbar__section--shrink-to-fit section-with-switcher\">\r\n      <avl-app-bar-item class=\"burger-container\">\r\n        <avl-icon class=\"burgerMenu\" icon=\"menu\" theme=\"dark\" (click)=\"burgerIconClicked()\"></avl-icon>\r\n      </avl-app-bar-item>\r\n      <avl-app-bar-item class=\"noselect\" *ngIf=\"appLogoSet && appLogo != undefined\">\r\n        <a class=\"avl-app-logo\"\r\n          [style.background-image]=\"'url(' + appLogo + ')'\"\r\n          [style.background-repeat]=\"'no-repeat'\"\r\n          routerLink=\"{{homePageUrl ? homePageUrl : '/' }}\"></a>\r\n      </avl-app-bar-item>\r\n\r\n      <div *ngIf=\"isSingleApp; then singleApp else multiApp\"></div>\r\n      <ng-template #singleApp>\r\n        <avl-app-bar-item class=\"single-app-name\" [innerHTML]=\"currentApplication?.name\">\r\n        </avl-app-bar-item>\r\n      </ng-template>\r\n      <ng-template #multiApp>\r\n        <avl-app-bar-item class=\"toolbar-item-with-switcher\">\r\n          <avl-app-switcher [items]=\"applications\" (itemsChange)=\"onApplicationListChanged($event)\" [selectedValue]=\"currentApplication\" (selectedValueChange)=\"onApplicationChanged($event)\">\r\n          </avl-app-switcher>\r\n        </avl-app-bar-item>\r\n      </ng-template>\r\n    </section>\r\n    <section id=\"additionalContent\" class=\"mdc-toolbar__section mdc-toolbar__section--align-end \">\r\n      <ng-content></ng-content>\r\n      <ng-content select=\"avl-overflow-menu[slot=menu]\"></ng-content>\r\n    </section>\r\n  </div>\r\n  <div class=\"border\"></div>\r\n</header>\r\n", styles: [".mdc-toolbar{background-color:#3f51b5;background-color:var(--mdc-theme-primary,#3f51b5);color:#fff;color:var(--mdc-theme-text-primary-on-primary,#fff);flex-direction:column;justify-content:space-between}.mdc-toolbar,.mdc-toolbar__row{display:flex;position:relative;box-sizing:border-box;width:100%}.mdc-toolbar__row{align-items:center;height:auto;min-height:64px}@media (max-width:959px) and (orientation:landscape){.mdc-toolbar__row{min-height:48px}}@media (max-width:599px){.mdc-toolbar__row{min-height:56px}}.mdc-toolbar__section{display:inline-flex;flex:1;align-items:flex-start;justify-content:center;min-width:0;height:100%;z-index:1}.mdc-toolbar__section--align-start{justify-content:flex-start;order:-1}.mdc-toolbar__section--align-end{justify-content:flex-end;order:1}.mdc-toolbar__title{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:1.25rem;font-weight:500;letter-spacing:.02em;text-decoration:inherit;text-transform:inherit;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;margin-left:24px;margin-right:0;align-self:center;padding:16px 0;line-height:1.5rem;z-index:1}.mdc-toolbar__title[dir=rtl],[dir=rtl] .mdc-toolbar__title{margin-left:0;margin-right:24px}.mdc-toolbar__icon{display:flex;align-items:center;justify-content:center;border:none;background-color:inherit;color:inherit;text-decoration:none;color:#fff;color:var(--mdc-theme-text-primary-on-primary,#fff);padding:16px 12px;cursor:pointer}.mdc-toolbar__icon:last-of-type{padding-left:12px;padding-right:24px}.mdc-toolbar__icon:last-of-type[dir=rtl],[dir=rtl] .mdc-toolbar__icon:last-of-type{padding-left:24px;padding-right:12px}.mdc-toolbar__menu-icon{display:flex;align-items:center;justify-content:center;border:none;background-color:inherit;color:inherit;text-decoration:none;color:#fff;color:var(--mdc-theme-text-primary-on-primary,#fff);padding:16px 24px;cursor:pointer}.mdc-toolbar__menu-icon+.mdc-toolbar__title{margin-left:8px;margin-right:0}.mdc-toolbar__menu-icon+.mdc-toolbar__title[dir=rtl],[dir=rtl] .mdc-toolbar__menu-icon+.mdc-toolbar__title{margin-left:0;margin-right:8px}@media (max-width:599px){.mdc-toolbar__title{margin-left:16px;margin-right:0}.mdc-toolbar__title[dir=rtl],[dir=rtl] .mdc-toolbar__title{margin-left:0;margin-right:16px}.mdc-toolbar__icon{padding-right:8px;padding-left:8px}.mdc-toolbar__icon:last-of-type{padding-left:8px;padding-right:16px}.mdc-toolbar__icon:last-of-type[dir=rtl],[dir=rtl] .mdc-toolbar__icon:last-of-type{padding-left:16px;padding-right:8px}.mdc-toolbar__menu-icon{padding-right:16px;padding-left:16px}.mdc-toolbar__menu-icon+.mdc-toolbar__title{margin-left:16px;margin-right:0}.mdc-toolbar__menu-icon+.mdc-toolbar__title[dir=rtl],[dir=rtl] .mdc-toolbar__menu-icon+.mdc-toolbar__title{margin-left:0;margin-right:16px}}.mdc-toolbar--fixed{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);position:fixed;top:0;left:0;z-index:4}.mdc-toolbar--flexible{--mdc-toolbar-ratio-to-extend-flexible:4}.mdc-toolbar--flexible .mdc-toolbar__row:first-child{height:256px;height:calc(64px * 4);height:calc(64px * var(--mdc-toolbar-ratio-to-extend-flexible, 4))}@media (max-width:599px){.mdc-toolbar--flexible .mdc-toolbar__row:first-child{height:224px;height:calc(56px * 4);height:calc(56px * var(--mdc-toolbar-ratio-to-extend-flexible, 4))}}.mdc-toolbar--flexible .mdc-toolbar__row:first-child:after{position:absolute;content:\"\"}.mdc-toolbar--flexible-default-behavior .mdc-toolbar__title{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:2.125rem;font-weight:400;letter-spacing:normal;text-decoration:inherit;text-transform:inherit;align-self:flex-end;line-height:1.5rem}.mdc-toolbar--flexible-default-behavior .mdc-toolbar__row:first-child:after{top:0;left:0;width:100%;height:100%;transition:opacity .2s ease;opacity:1}.mdc-toolbar--flexible-default-behavior.mdc-toolbar--flexible-space-minimized .mdc-toolbar__row:first-child:after{opacity:0}.mdc-toolbar--flexible-default-behavior.mdc-toolbar--flexible-space-minimized .mdc-toolbar__title{font-weight:500}.mdc-toolbar--waterfall.mdc-toolbar--fixed{box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12);transition:box-shadow .28s cubic-bezier(.4,0,.2,1);will-change:box-shadow}.mdc-toolbar--waterfall.mdc-toolbar--fixed.mdc-toolbar--flexible-space-minimized{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.mdc-toolbar--waterfall.mdc-toolbar--fixed.mdc-toolbar--fixed-lastrow-only.mdc-toolbar--flexible-space-minimized{box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mdc-toolbar--waterfall.mdc-toolbar--fixed.mdc-toolbar--fixed-lastrow-only.mdc-toolbar--fixed-at-last-row{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.mdc-toolbar-fixed-adjust{margin-top:64px}@media (max-width:959px) and (orientation:landscape){.mdc-toolbar-fixed-adjust{margin-top:48px}}@media (max-width:599px){.mdc-toolbar-fixed-adjust{margin-top:56px}}.mdc-toolbar__section--shrink-to-fit{flex:none}:host{--item-color:var(--avl-app-bar-item-color,var(--avl-on-primary-color));--bar-height:var(--avl-app-bar-height,52px);--background-color:var(--avl-app-bar-background-color,var(--avl-primary-color));--line-underline-color:var(--avl-app-bar-underline-color,var(--avl-product-color));color:var(--item-color);font-family:var(--avl-font-family);font-size:20px}#additionalContent{margin-right:12px;z-index:2}.material-icons{font-family:Material Icons,sans-serif;font-weight:400;font-style:normal;font-size:24px;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:\"liga\"}.mdc-toolbar{background-color:var(--background-color);background-repeat:no-repeat;background-position:calc(100% - 61px) -30px;background-size:158px;color:var(--item-color);z-index:4}.mdc-toolbar,.mdc-toolbar--fixed{box-shadow:none}#header{box-shadow:var(--avl-box-shadow-14dp)}avl-menu-button avl-icon-button{height:24px;width:24px;margin:0 16px 0 13px;padding:0}.border{height:4px;background:linear-gradient(90deg,var(--avl-product-light-color) 0,var(--avl-product-dark-color) 100%)}.mdc-toolbar__icon{margin-bottom:0}.mdc-toolbar__icon,.mdc-toolbar__icon:active{color:var(--item-color)}.mdc-toolbar__icon:last-of-type{padding:0 16px}.search-bar-container{margin-left:24px;display:flex;justify-content:space-between;--avl-search-bar-text-color:var(--item-color,#fff);--avl-search-bar-search-color:var(--item-color,#fff)}.mdc-toolbar__row{min-height:52px;min-height:var(--bar-height,52px);max-height:52px;max-height:var(--bar-height,52px)}.mdc-toolbar__section{align-items:center;z-index:0}.avl-app-logo{width:32px;height:32px;background-size:100%}.burgerMenu{height:24px;width:24px}.mdc-toolbar__icon{padding:0}avl-icon-button{--avl-icon-button-color:#fff}.detailsMenuButtonSeparator{height:1px;background:#000}.icons-placeholder{font-size:20px;margin-bottom:0;margin-right:10px}.header-container{display:inline-flex;padding-bottom:5px;padding-top:5px}.header-icon{font-size:20px;margin-bottom:0;margin-right:10px;margin-top:5px}.header-text{display:inline;margin-left:-5px;font-size:25px;font-weight:700;padding-bottom:5px}.toolbar-item-with-switcher{padding-left:12px!important}avl-app-bar-item{cursor:auto!important}.section-with-switcher{position:relative;z-index:2}.burgerMenu{display:none;cursor:pointer}.avl-app-logo{margin:12px 0 12px 20px}.single-app-name{cursor:default}:host(.mobile) .burgerMenu{display:block}@media (max-width:960px){:host(.responsive) .burgerMenu{display:block}}@media (min-width:400px){:host(.mobile) .burgerMenu,:host(.responsive) .burgerMenu{margin:16px 0 16px 24px}}@media (max-width:400px){:host(.mobile) .avl-app-logo,:host(.responsive) .avl-app-logo{display:none}:host(.mobile) .burgerMenu,:host(.responsive) .burgerMenu{margin:16px -4px 16px 16px}}"], components: [{ type: i1.AvlAppBarItemComponent, selector: "avl-app-bar-item" }], directives: [{ type: i2.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i3.RouterLinkWithHref, selector: "a[routerLink],area[routerLink]", inputs: ["routerLink", "target", "queryParams", "fragment", "queryParamsHandling", "preserveFragment", "skipLocationChange", "replaceUrl", "state", "relativeTo"] }, { type: i4.AvlSingleSelectControlDirective, selector: "avl-datatable,avl-dropdown,avl-list,avl-radio-group,avl-app-switcher,avl-chip-list,avl-combo-box", outputs: ["selectedIndexChange", "selectedValueChange"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.0.3", ngImport: i0, type: AvlAppBarComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'avl-app-bar',
                    templateUrl: './avl-app-bar.component.html',
                    styleUrls: ['./avl-app-bar.component.css'],
                    encapsulation: ViewEncapsulation.Emulated
                }]
        }], propDecorators: { currentApplication: [{
                type: Input
            }], responsive: [{
                type: Input
            }, {
                type: HostBinding,
                args: ['class.responsive']
            }], mobile: [{
                type: Input
            }, {
                type: HostBinding,
                args: ['class.mobile']
            }], homePageUrl: [{
                type: Input
            }], appLogo: [{
                type: Input
            }], applications: [{
                type: Input
            }], applicationListChange: [{
                type: Output
            }], fixed: [{
                type: Input
            }], currentApplicationChange: [{
                type: Output
            }], burgerClicked: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXZsLWFwcC1iYXIuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbmF2aWdhdGlvbi9zcmMvbGliL2NvbXBvbmVudHMvYXZsLWFwcC1iYXIvYXZsLWFwcC1iYXIuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbmF2aWdhdGlvbi9zcmMvbGliL2NvbXBvbmVudHMvYXZsLWFwcC1iYXIvYXZsLWFwcC1iYXIuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNMLFNBQVMsRUFDVCxLQUFLLEVBQ0wsTUFBTSxFQUNOLGlCQUFpQixFQUNqQixZQUFZLEVBRVosV0FBVyxFQUNaLE1BQU0sZUFBZSxDQUFDO0FBRXZCLE9BQU8sMkRBQTJELENBQUM7QUFDbkUsT0FBTyw4Q0FBOEMsQ0FBQzs7Ozs7O0FBRXRELE1BQU0sT0FBTyxlQUFlO0lBQzFCLFlBQ1csVUFBa0IsRUFDbEIsY0FBc0IsRUFDdEIsS0FBb0QsRUFDcEQsV0FBMkQ7UUFIM0QsZUFBVSxHQUFWLFVBQVUsQ0FBUTtRQUNsQixtQkFBYyxHQUFkLGNBQWMsQ0FBUTtRQUN0QixVQUFLLEdBQUwsS0FBSyxDQUErQztRQUNwRCxnQkFBVyxHQUFYLFdBQVcsQ0FBZ0Q7SUFDbkUsQ0FBQztDQUNMO0FBRUQ7O0dBRUc7QUFDSCxNQUFNLE9BQU8sb0JBQW9CO0NBS2hDO0FBUUQsTUFBTSxPQUFPLGtCQUFrQjtJQU4vQjtRQXVERTs7V0FFRztRQUNNLGlCQUFZLEdBQTJCLEVBQUUsQ0FBQztRQUVuRDs7V0FFRztRQUVPLDBCQUFxQixHQUF5QyxJQUFJLFlBQVksRUFBMEIsQ0FBQztRQUVuSDs7V0FFRztRQUNNLFVBQUssR0FBWSxJQUFJLENBQUM7UUFHL0I7O1dBRUc7UUFFSCw2QkFBd0IsR0FBdUMsSUFBSSxZQUFZLEVBQXdCLENBQUM7UUFFeEc7OztXQUdHO1FBQ08sa0JB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LHdCQUF3QjtzQkFEdkIsTUFBTTtnQkFPRyxhQUFhO3NCQUF0QixNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBDb21wb25lbnQsXHJcbiAgSW5wdXQsXHJcbiAgT3V0cHV0LFxyXG4gIFZpZXdFbmNhcHN1bGF0aW9uLFxyXG4gIEV2ZW50RW1pdHRlcixcclxuICBPbkluaXQsXHJcbiAgSG9zdEJpbmRpbmdcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbmltcG9ydCAnQGF2bC1jb250cm9scy9jb3JlL2Rpc3QvYXZsLWFwcC1zd2l0Y2hlci9hdmwtYXBwLXN3aXRjaGVyJztcclxuaW1wb3J0ICdAYXZsLWNvbnRyb2xzL2NvcmUvZGlzdC9hdmwtaWNvbi9hdmwtaWNvbi5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgTWVudUJ1dHRvbkl0ZW1zIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHJlYWRvbmx5IGhlYWRlclRleHQ6IHN0cmluZyxcclxuICAgIHJlYWRvbmx5IGhlYWRlckljb25OYW1lOiBzdHJpbmcsXHJcbiAgICByZWFkb25seSBpdGVtczogQXJyYXk8eyBpdGVtVGV4dDogc3RyaW5nOyBpY29uTmFtZTogc3RyaW5nIH0+LFxyXG4gICAgcmVhZG9ubHkgZm9vdGVySXRlbXM/OiBBcnJheTx7IGl0ZW1UZXh0OiBzdHJpbmc7IGljb25OYW1lOiBzdHJpbmcgfT5cclxuICApIHt9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBPYmplY3QgcmVwcmVzZW50aW5nIHN1Yi1hcHBsaWNhdGlvbiB0aGF0IGlzIGFkZGVkIHRvIGFwcC1iYXIgZHJvcC1kb3duXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQXBwbGljYXRpb25SZWZlcmVuY2Uge1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBpY29uPzogc3RyaW5nO1xyXG4gIGltYWdlPzogc3RyaW5nO1xyXG4gIFtrZXk6IHN0cmluZ106IGFueTtcclxufVxyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdhdmwtYXBwLWJhcicsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL2F2bC1hcHAtYmFyLmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnLi9hdmwtYXBwLWJhci5jb21wb25lbnQuY3NzJ10sXHJcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uRW11bGF0ZWRcclxufSlcclxuZXhwb3J0IGNsYXNzIEF2bEFwcEJhckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcbiAgLyoqXHJcbiAgICpcclxuICAgKiAjIyMgU3R5bGluZ1xyXG4gICAqIFRoZSBmb2xsb3dpbmcgY3VzdG9tIHByb3BlcnRpZXMgYXJlIGF2YWlsYWJsZSBmb3Igc3R5bGluZzpcclxuICAgKlxyXG4gICAqIEN1c3RvbSBwcm9wZXJ0eSAgICAgICAgICAgICAgICAgICAgICAgICAgfCBEZXNjcmlwdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBEZWZhdWx0XHJcbiAgICogOi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18Oi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18Oi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgKiBgLS1hdmwtYXBwLWJhci1iYWNrZ3JvdW5kLWNvbG9yYCAgICAgICAgIHwgQmFja2dyb3VuZCBjb2xvciBvZiBhcHAtYmFyICAgICAgICAgICAgICAgICAgIHwgYC0tYXZsLXByaW1hcnktY29sb3JgXHJcbiAgICogYC0tYXZsLWFwcC1iYXItaGVpZ2h0YCAgICAgICAgICAgICAgICAgICB8IEhlaWdodCBvZiBhcHAtYmFyIChtaW51cyAzcHggYm90dG9tIGxpbmUpICAgICB8IGA1M3B4YFxyXG4gICAqIGAtLWF2bC1hcHAtYmFyLWl0ZW0tY29sb3JgICAgICAgICAgICAgICAgfCBUZXh0IGNvbG9yIG9mIGFwcC1iYXIgaXRlbXMgICAgICAgICAgICAgICAgICAgfCBgLS1hdmwtb24tcHJpbWFyeS1jb2xvcmBcclxuICAgKiBgLS1hdmwtYXBwLWJhci11bmRlcmxpbmUtY29sb3JgICAgICAgICAgIHwgVW5kZXJsaW5lIGNvbG9yICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYC0tYXZsLXByb2R1Y3QtY29sb3JgXHJcbiAgICovXHJcbiAgX3N0eWxpbmc6IGFueTtcclxuXHJcbiAgLyoqXHJcbiAgICogVGVsbHMgd2hpY2ggaXMgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBhcHBsaWNhdGlvblxyXG4gICAqL1xyXG4gIEBJbnB1dCgpXHJcbiAgcHVibGljIGN1cnJlbnRBcHBsaWNhdGlvbjogQXBwbGljYXRpb25SZWZlcmVuY2U7XHJcblxyXG4gIC8qKlxyXG4gICAqIEJvb2xlYW4gdG8gdG9nZ2xlIHJlc3BvbnNpdmUgZmVhdHVyZXNcclxuICAgKiBPbiBtb2JpbGUgc2NyZWVucyBzaWRlbmF2IHRvZ2dsaW5nIGlzIHRyaWdnZXJlZCBieSBidXJnZXIgaWNvbiBpbiBhcHAtYmFyIGFzIHBhcnQgb2YgYXBwLWxheW91dFxyXG4gICAqL1xyXG4gIEBJbnB1dCgpXHJcbiAgQEhvc3RCaW5kaW5nKCdjbGFzcy5yZXNwb25zaXZlJylcclxuICBwdWJsaWMgcmVzcG9uc2l2ZTogYm9vbGVhbjtcclxuXHJcbiAgLyoqXHJcbiAgICogQm9vbGVhbiB0byBzZXQgb25seSBtb2JpbGUgZmVhdHVyZXMgb25cclxuICAgKiBPbiBtb2JpbGUgc2NyZWVucyBzaWRlbmF2IHRvZ2dsaW5nIGlzIHRyaWdnZXJlZCBieSBidXJnZXIgaWNvbiBpbiBhcHAtYmFyIGFzIHBhcnQgb2YgYXBwLWxheW91dFxyXG4gICAqL1xyXG4gIEBJbnB1dCgpXHJcbiAgQEhvc3RCaW5kaW5nKCdjbGFzcy5tb2JpbGUnKVxyXG4gIHB1YmxpYyBtb2JpbGU6IGJvb2xlYW47XHJcblxyXG4gIC8qKlxyXG4gICAqIFVSTCB0byBhcHBsaWNhdGlvbiBob21lLyBsYW5kaW5nIHBhZ2VcclxuICAgKi9cclxuICBASW5wdXQoKVxyXG4gIHB1YmxpYyBob21lUGFnZVVybDogc3RyaW5nO1xyXG5cclxuICAvKipcclxuICAgKiBVUkwgdG8gYXBwbGljYXRpb24gaWNvbiAvIGxvZ29cclxuICAgKi9cclxuICBASW5wdXQoKVxyXG4gIHB1YmxpYyBhcHBMb2dvOiBzdHJpbmc7XHJcblxyXG4gIC8qKlxyXG4gICAqIExpc3Qgb2Ygc3ViLWFwcGxpY2F0aW9ucyB1c2VkXHJcbiAgICovXHJcbiAgQElucHV0KCkgYXBwbGljYXRpb25zOiBBcHBsaWNhdGlvblJlZmVyZW5jZVtdID0gW107XHJcblxyXG4gIC8qKlxyXG4gICAqIEV2ZW50IGVtaXR0ZWQgd2hlbiBuZXcgYXBwbGljYXRpb24gaXMgYWRkZWQuXHJcbiAgICovXHJcblxyXG4gIEBPdXRwdXQoKSBhcHBsaWNhdGlvbkxpc3RDaGFuZ2U6IEV2ZW50RW1pdHRlcjxBcHBsaWNhdGlvblJlZmVyZW5jZVtdPiA9IG5ldyBFdmVudEVtaXR0ZXI8QXBwbGljYXRpb25SZWZlcmVuY2VbXT4oKTtcclxuXHJcbiAgLyoqXHJcbiAgICogRmxhZyBpbmRpY2F0aW5nIGFwcC1iYXIgaGFzIGZpeGVkIHBvc2l0aW9uaW5nIG9yIG5vXHJcbiAgICovXHJcbiAgQElucHV0KCkgZml4ZWQ6IGJvb2xlYW4gPSB0cnVlO1xyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogRXZlbnQgZW1pdHRlZCB3aGVuIGFwcGxpY2F0aW9uIGlzIGNoYW5nZWQgaW4gYXBwLWJhciBkcm9wLWRvd25cclxuICAgKi9cclxuICBAT3V0cHV0KClcclxuICBjdXJyZW50QXBwbGljYXRpb25DaGFuZ2U6IEV2ZW50RW1pdHRlcjxBcHBsaWNhdGlvblJlZmVyZW5jZT4gPSBuZXcgRXZlbnRFbWl0dGVyPEFwcGxpY2F0aW9uUmVmZXJlbmNlPigpO1xyXG5cclxuICAvKipcclxuICAgKiBFdmVudCBlbW1pdGVkIHdoZW4gQnVyZ2VyIG1lbnUgaXMgY2xpY2tlZC5cclxuICAgKiBUb2dnbGVzIHNpZGUtbmF2IHZpc2liaWxpdHkgaWYgYXBwLWJhciBpcyBwYXJ0IG9mIGFwcC1sYXlvdXQgaW4gcmVzcG9uc2l2ZSBtb2RlXHJcbiAgICovXHJcbiAgQE91dHB1dCgpIGJ1cmdlckNsaWNrZWQ6IEV2ZW50RW1pdHRlcjx2b2lkPiA9IG5ldyBFdmVudEVtaXR0ZXI8dm9pZD4oKTtcclxuXHJcbiAgLyoqIEBoaWRkZW4gKi9cclxuICBwdWJsaWMgYXBwTG9nb1NldDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICBwcml2YXRlIGFwcExvZ29QcmVzZXQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgLyoqIEBoaWRkZW4gKi9cclxuICBfYXBwc0xlbmd0aDogbnVtYmVyO1xyXG5cclxuICAvKipcclxuICAgKiBUcnVlIGlmIG9ubHkgb25lIGVsZW1lbnQgYWRkZWQgdG8gYXBwbGljYXRpb25zIGFycmF5XHJcbiAgICovXHJcbiAgZ2V0IGlzU2luZ2xlQXBwKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuICF0aGlzLmFwcGxpY2F0aW9ucyB8fCB0aGlzLl9hcHBzTGVuZ3RoIDwgMjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBoaWRkZW5cclxuICAgKi9cclxuICBnZXQgc2hvd0FwcExvZ28oKTogYm9vbGVhbiB7XHJcbiAgICBpZiAodGhpcy5jdXJyZW50QXBwbGljYXRpb24gPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgY29uc3QgaW1hZ2UgPSB0aGlzLmN1cnJlbnRBcHBsaWNhdGlvbi5pbWFnZTtcclxuICAgIHJldHVybiAhKGltYWdlID09IG51bGwgfHwgaW1hZ2UgPT09ICcnKTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogQGhpZGRlblxyXG4gICAqL1xyXG4gIGJ1cmdlckljb25DbGlja2VkKCkge1xyXG4gICAgdGhpcy5idXJnZXJDbGlja2VkLmVtaXQoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBoaWRkZW5cclxuICAgKi9cclxuICBvbkFwcGxpY2F0aW9uQ2hhbmdlZChhcHA6IEFwcGxpY2F0aW9uUmVmZXJlbmNlKSB7XHJcbiAgICB0aGlzLmN1cnJlbnRBcHBsaWNhdGlvbiA9IGFwcDtcclxuICAgIGlmICghdGhpcy5hcHBMb2dvUHJlc2V0KSB7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuYXBwTG9nb1NldCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hcHBMb2dvID0gdGhpcy5jdXJyZW50QXBwbGljYXRpb24uaW1hZ2U7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5jdXJyZW50QXBwbGljYXRpb25DaGFuZ2UuZW1pdCh0aGlzLmN1cnJlbnRBcHBsaWNhdGlvbik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAaGlkZGVuXHJcbiAgICovXHJcbiAgb25BcHBsaWNhdGlvbkxpc3RDaGFuZ2VkKGFwcHM6IHVua25vd24pIHtcclxuICAgIHRoaXMuYXBwbGljYXRpb25zID0gYXBwcyBhcyBBcHBsaWNhdGlvblJlZmVyZW5jZVtdO1xyXG4gICAgdGhpcy5hcHBsaWNhdGlvbkxpc3RDaGFuZ2UuZW1pdCh0aGlzLmFwcGxpY2F0aW9ucyk7XHJcbiAgfVxyXG5cclxuICAvKiogQGhpZGRlbiAqL1xyXG4gIG5nT25Jbml0KCkge1xyXG4gICAgaWYgKHRoaXMuYXBwTG9nbykge1xyXG4gICAgICB0aGlzLmFwcExvZ29TZXQgPSB0cnVlO1xyXG4gICAgICB0aGlzLmFwcExvZ29QcmVzZXQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5hcHBMb2dvID0gdGhpcy5jdXJyZW50QXBwbGljYXRpb24gPyB0aGlzLmN1cnJlbnRBcHBsaWNhdGlvbi5pbWFnZSA6ICcnO1xyXG4gICAgICB0aGlzLmFwcExvZ29TZXQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fYXBwc0xlbmd0aCA9IHRoaXMuYXBwbGljYXRpb25zID8gdGhpcy5hcHBsaWNhdGlvbnMubGVuZ3RoIDogMDtcclxuICB9XHJcblxyXG59IiwiPGhlYWRlciBpZD1cImhlYWRlclwiIGNsYXNzPVwibWRjLXRvb2xiYXIgbWRjLXRvb2xiYXItLXdhdGVyZmFsbFwiIFtuZ0NsYXNzXT1cInsnbWRjLXRvb2xiYXItLWZpeGVkJzogZml4ZWR9XCI+XHJcbiAgPGRpdiBjbGFzcz1cIm1kYy10b29sYmFyX19yb3dcIj5cclxuICAgIDxzZWN0aW9uIGNsYXNzPVwibWRjLXRvb2xiYXJfX3NlY3Rpb24gbWRjLXRvb2xiYXJfX3NlY3Rpb24tLWFsaWduLXN0YXJ0IG1kYy10b29sYmFyX19zZWN0aW9uLS1zaHJpbmstdG8tZml0IHNlY3Rpb24td2l0aC1zd2l0Y2hlclwiPlxyXG4gICAgICA8YXZsLWFwcC1iYXItaXRlbSBjbGFzcz1cImJ1cmdlci1jb250YWluZXJcIj5cclxuICAgICAgICA8YXZsLWljb24gY2xhc3M9XCJidXJnZXJNZW51XCIgaWNvbj1cIm1lbnVcIiB0aGVtZT1cImRhcmtcIiAoY2xpY2spPVwiYnVyZ2VySWNvbkNsaWNrZWQoKVwiPjwvYXZsLWljb24+XHJcbiAgICAgIDwvYXZsLWFwcC1iYXItaXRlbT5cclxuICAgICAgPGF2bC1hcHAtYmFyLWl0ZW0gY2xhc3M9XCJub3NlbGVjdFwiICpuZ0lmPVwiYXBwTG9nb1NldCAmJiBhcHBMb2dvICE9IHVuZGVmaW5lZFwiPlxyXG4gICAgICAgIDxhIGNsYXNzPVwiYXZsLWFwcC1sb2dvXCJcclxuICAgICAgICAgIFtzdHlsZS5iYWNrZ3JvdW5kLWltYWdlXT1cIid1cmwoJyArIGFwcExvZ28gKyAnKSdcIlxyXG4gICAgICAgICAgW3N0eWxlLmJhY2tncm91bmQtcmVwZWF0XT1cIiduby1yZXBlYXQnXCJcclxuICAgICAgICAgIHJvdXRlckxpbms9XCJ7e2hvbWVQYWdlVXJsID8gaG9tZVBhZ2VVcmwgOiAnLycgfX1cIj48L2E+XHJcbiAgICAgIDwvYXZsLWFwcC1iYXItaXRlbT5cclxuXHJcbiAgICAgIDxkaXYgKm5nSWY9XCJpc1NpbmdsZUFwcDsgdGhlbiBzaW5nbGVBcHAgZWxzZSBtdWx0aUFwcFwiPjwvZGl2PlxyXG4gICAgICA8bmctdGVtcGxhdGUgI3NpbmdsZUFwcD5cclxuICAgICAgICA8YXZsLWFwcC1iYXItaXRlbSBjbGFzcz1cInNpbmdsZS1hcHAtbmFtZVwiIFtpbm5lckhUTUxdPVwiY3VycmVudEFwcGxpY2F0aW9uPy5uYW1lXCI+XHJcbiAgICAgICAgPC9hdmwtYXBwLWJhci1pdGVtPlxyXG4gICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICA8bmctdGVtcGxhdGUgI211bHRpQXBwPlxyXG4gICAgICAgIDxhdmwtYXBwLWJhci1pdGVtIGNsYXNzPVwidG9vbGJhci1pdGVtLXdpdGgtc3dpdGNoZXJcIj5cclxuICAgICAgICAgIDxhdmwtYXBwLXN3aXRjaGVyIFtpdGVtc109XCJhcHBsaWNhdGlvbnNcIiAoaXRlbXNDaGFuZ2UpPVwib25BcHBsaWNhdGlvbkxpc3RDaGFuZ2VkKCRldmVudClcIiBbc2VsZWN0ZWRWYWx1ZV09XCJjdXJyZW50QXBwbGljYXRpb25cIiAoc2VsZWN0ZWRWYWx1ZUNoYW5nZSk9XCJvbkFwcGxpY2F0aW9uQ2hhbmdlZCgkZXZlbnQpXCI+XHJcbiAgICAgICAgICA8L2F2bC1hcHAtc3dpdGNoZXI+XHJcbiAgICAgICAgPC9hdmwtYXBwLWJhci1pdGVtPlxyXG4gICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgPC9zZWN0aW9uPlxyXG4gICAgPHNlY3Rpb24gaWQ9XCJhZGRpdGlvbmFsQ29udGVudFwiIGNsYXNzPVwibWRjLXRvb2xiYXJfX3NlY3Rpb24gbWRjLXRvb2xiYXJfX3NlY3Rpb24tLWFsaWduLWVuZCBcIj5cclxuICAgICAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxyXG4gICAgICA8bmctY29udGVudCBzZWxlY3Q9XCJhdmwtb3ZlcmZsb3ctbWVudVtzbG90PW1lbnVdXCI+PC9uZy1jb250ZW50PlxyXG4gICAgPC9zZWN0aW9uPlxyXG4gIDwvZGl2PlxyXG4gIDxkaXYgY2xhc3M9XCJib3JkZXJcIj48L2Rpdj5cclxuPC9oZWFkZXI+XHJcbiJdfQ==