import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from '@angular/common/http';
import * as ɵngcc2 from '@angular/router';
import * as ɵngcc3 from '@angular/common';
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __read = (this && this.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (this && this.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};
var __values = (this && this.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
import { Injectable, Inject } from '@angular/core';
import { Location } from '@angular/common';
import { HttpBackend, HttpClient, HttpHeaders } from '@angular/common/http';
import { Observable, BehaviorSubject } from 'rxjs';
import { Router } from '@angular/router';
import { map, take, distinctUntilKeyChanged, skipWhile } from 'rxjs/operators';
import * as CryptoJS from 'crypto-js';
import { AvlAuthService } from './avl-auth.service';
import { AUTH_CONFIG } from '../variables';
import { TokensPending } from './token-pending';
import { TokenStorage } from './token-storage';
import { StorageNames } from './storage-names';
var AvlOidcCodeAuthService = /** @class */ (function (_super) {
    __extends(AvlOidcCodeAuthService, _super);
    function AvlOidcCodeAuthService(httpBackend, authConfig, router, loc) {
        var _this = _super.call(this) || this;
        _this.httpBackend = httpBackend;
        _this.authConfig = authConfig;
        _this.router = router;
        _this.loc = loc;
        // success will be set after tokens are successfully fetched or not
        _this.tokensPendingSubject = new BehaviorSubject(new TokensPending(false));
        /**
         * Observable tracking if redirected from idb
         * Resolves to true on redirection, false otherwise
         */
        _this.redirectedFromLogIn = new BehaviorSubject(undefined);
        _this.http = new HttpClient(_this.httpBackend);
        _this.tokensPending$ = _this.tokensPendingSubject.asObservable();
        _this.isLoggedIn$ = new Observable(function (observer) {
            var tokensPendingState = _this.tokensPendingSubject.value;
            _this.tokensPending$.pipe(distinctUntilKeyChanged('waiting'), skipWhile(function (tokenPending) { return tokenPending.waiting !== false; }), map(function (tokenPending) {
                if (tokenPending.success != null) {
                    observer.next(tokenPending.success);
                }
            }), take(1)).subscribe();
            if (tokensPendingState.waiting !== true && tokensPendingState.success !== null) {
                observer.next(_this.currentUser != null && _this.isAccessTokenValid());
            }
        });
        _this.storage = new TokenStorage(_this.authConfig.tokenPrefix);
        var user = _this.storage.readUser();
        if (_this.persistedUserInvalid(user)) {
            _this.clearUser();
        }
        else {
            _this.persistUser(user);
        }
        // if user is not logged in and pkce exists handle redirect from oidc server if possible
        if (_this.currentUser == null && _this.pkce) {
            _this.handleOidcRedirect();
        }
        else {
            _this.redirectedFromLogIn.next(Boolean(_this.currentUser));
        }
        return _this;
    }
    AvlOidcCodeAuthService.prototype.persistedUserInvalid = function (data) {
        return (data.username == null || data.access_token == null || data.access_token_expires < Date.now());
    };
    Object.defineProperty(AvlOidcCodeAuthService.prototype, "pkce", {
        get: function () {
            return this.storage.getItem('pkce') || undefined;
        },
        set: function (c) {
            if (c) {
                this.storage.setItem('pkce', c);
            }
            else {
                this.storage.removeItem('pkce');
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AvlOidcCodeAuthService.prototype, "nonce", {
        get: function () {
            return sessionStorage.getItem('nonce') || undefined;
        },
        set: function (c) {
            if (c) {
                this.storage.setItem('nonce', c);
            }
            else {
                this.storage.removeItem('nonce');
            }
        },
        enumerable: true,
        configurable: true
    });
    AvlOidcCodeAuthService.prototype.isAccessTokenValid = function () {
        return Date.now() < this.currentUser.access_token_expires;
    };
    AvlOidcCodeAuthService.prototype.persistUser = function (user) {
        if (!user) {
            this.clearUser();
            return;
        }
        this.storage.storeUser(user);
        this.userSubject.next(user);
    };
    AvlOidcCodeAuthService.prototype.clearUser = function () {
        this.storage.clearUser();
        this.userSubject.next(undefined);
    };
    /*
     * Checks if current url is redirect from oidc server and gets access token from the server.
     */
    AvlOidcCodeAuthService.prototype.handleOidcRedirect = function () {
        return __awaiter(this, void 0, void 0, function () {
            var pkce, urlParts, urlHash, first, last, urlPartSplit, query, queryCode, i, nonce, httpOptions, user, error_1;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        pkce = this.pkce;
                        this.pkce = undefined;
                        urlParts = this.loc.path(true).split('?', 2);
                        if (urlParts.length === 2) {
                            first = urlParts[1].lastIndexOf('#');
                            if (first !== -1) {
                                last = urlParts[1].lastIndexOf('&');
                                urlHash = urlParts[1].slice(first, last);
                                urlPartSplit = urlParts[1].split('#', 2);
                                urlParts[1] = urlParts[1].split('&').pop();
                                urlParts[1] = urlPartSplit[0].concat('&').concat(urlParts[1]);
                            }
                        }
                        query = urlParts.length === 2 ? this.parseQueryString(urlParts[1]) : [];
                        for (i = query.length - 1; i >= 0; i--) {
                            if (query[i].key === 'code') {
                                queryCode = query[i].value;
                                query = __spread(query.slice(0, i), query.slice(i + 1));
                                break;
                            }
                        }
                        if (!(urlParts.length === 2 && queryCode)) return [3 /*break*/, 4];
                        nonce = this.nonce;
                        this.nonce = undefined;
                        httpOptions = {
                            headers: new HttpHeaders({
                                code: queryCode,
                                verifier: pkce,
                                nonce: nonce
                            })
                        };
                        this.updateTokensPending(new TokensPending(true));
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, this.http
                                .post(this.authConfig.tokenUrl, {}, httpOptions)
                                .pipe(map(function (token) { return _this.readUserFromToken(token); }))
                                .toPromise()];
                    case 2:
                        user = _a.sent();
                        this.persistUser(user);
                        this.updateTokensPending(new TokensPending(false, true));
                        return [3 /*break*/, 4];
                    case 3:
                        error_1 = _a.sent();
                        this.updateTokensPending(new TokensPending(false, false), error_1.message);
                        return [3 /*break*/, 4];
                    case 4:
                        if (urlHash) {
                            this.router.navigateByUrl("" + urlParts[0] + this.reconstructQueryParamString(query) + urlHash, { replaceUrl: true });
                            this.redirectedFromLogIn.next(true);
                        }
                        else {
                            this.router.navigateByUrl("" + urlParts[0] + this.reconstructQueryParamString(query), {
                                replaceUrl: true
                            });
                            this.redirectedFromLogIn.next(Boolean(this.currentUser));
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    AvlOidcCodeAuthService.prototype.reloadPersistedUserData = function () {
        var user = this.storage.readUser();
        if (this.persistedUserInvalid(user)) {
            this.clearUser();
        }
        else {
            this.persistUser(user);
        }
    };
    AvlOidcCodeAuthService.prototype.reconstructQueryParamString = function (queryParams) {
        var e_1, _a;
        var s = '?';
        if (queryParams.length === 0) {
            return '';
        }
        try {
            for (var queryParams_1 = __values(queryParams), queryParams_1_1 = queryParams_1.next(); !queryParams_1_1.done; queryParams_1_1 = queryParams_1.next()) {
                var q = queryParams_1_1.value;
                if (s === '?') {
                    s += encodeURIComponent(q.key) + "=" + encodeURIComponent(q.value);
                }
                else {
                    s += "&" + encodeURIComponent(q.key) + "=" + encodeURIComponent(q.value);
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (queryParams_1_1 && !queryParams_1_1.done && (_a = queryParams_1.return)) _a.call(queryParams_1);
            }
            finally { if (e_1) throw e_1.error; }
        }
        return s;
    };
    AvlOidcCodeAuthService.prototype.updateTokensPending = function (state, errorMessage) {
        // the order here is important
        // errorMessage will be set before isLoggedIn becomes false
        if (state.waiting === false) {
            this.errorMessageSubject.next(errorMessage);
        }
        this.tokensPendingSubject.next(state);
    };
    AvlOidcCodeAuthService.prototype.readUserFromToken = function (token) {
        var _a;
        var accessTokenClaims = this.readClaimsFromToken(token.accesstoken);
        // Calculate actual expiry date for this machine
        var accessTokenStoredAt = Date.now(); // [ms]
        var accessTokenExpiresAt = accessTokenStoredAt + token.expiresIn * 1000;
        var refreshTokenClaims = this.readClaimsFromToken(token.refreshtoken);
        var refreshTokenExpiresAt = null;
        if (refreshTokenClaims) {
            // If time value is 0 token lasts indefinitely
            var refreshTokenExpiresIn = refreshTokenClaims['exp'] !== 0 ? refreshTokenClaims['exp'] - refreshTokenClaims['iat'] : 0;
            var refreshTokenStoredAt = accessTokenStoredAt;
            refreshTokenExpiresAt =
                refreshTokenExpiresIn !== 0 ? refreshTokenStoredAt + refreshTokenExpiresIn * 1000 : 0;
        }
        var roles = accessTokenClaims === null || accessTokenClaims === void 0 ? void 0 : accessTokenClaims.roles;
        if (roles && this.hasRequiredRole(roles)) {
            this.storage.setItem(StorageNames.AccessTokenStoredAt, "" + accessTokenStoredAt);
            return {
                username: accessTokenClaims.preferred_username,
                name: (_a = accessTokenClaims.name) !== null && _a !== void 0 ? _a : accessTokenClaims.preferred_username,
                access_token: token.accesstoken,
                access_token_expires: accessTokenExpiresAt,
                refresh_token: token.refreshtoken,
                refresh_token_expires: refreshTokenExpiresAt,
                id_token: token.idToken,
                roles: roles
            };
        }
        else {
            throw new Error("Role " + this.authConfig.requiredRole + " not in claims");
        }
    };
    AvlOidcCodeAuthService.prototype.hasRequiredRole = function (roles) {
        return (!this.authConfig.requiredRole ||
            (this.authConfig.requiredRole && roles.indexOf(this.authConfig.requiredRole) !== -1));
    };
    /**
     * If needed, this method can be called to refresh tokens for current user
     * @returns Promise resolved with object containing new tokens
     */
    AvlOidcCodeAuthService.prototype.refreshTokens = function () {
        return __awaiter(this, void 0, void 0, function () {
            var httpOptions, user, error_2;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        httpOptions = {
                            headers: new HttpHeaders({
                                grant_type: 'refresh_token',
                                'refresh-token': this.storage.getItem(StorageNames.RefreshToken)
                            })
                        };
                        if (!this.authConfig.refreshUrl) {
                            throw new Error('refreshUrl missing in AuthConfig');
                        }
                        this.updateTokensPending(new TokensPending(true));
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, this.http
                                .post(this.authConfig.refreshUrl, {}, httpOptions)
                                .pipe(map(function (token) { return _this.readUserFromToken(token); }))
                                .toPromise()];
                    case 2:
                        user = _a.sent();
                        this.persistUser(user);
                        this.updateTokensPending(new TokensPending(false, true));
                        return [3 /*break*/, 4];
                    case 3:
                        error_2 = _a.sent();
                        this.updateTokensPending(new TokensPending(false, false), error_2.message);
                        throw error_2;
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Login user and redirect after successful authentication.
     * Custom auth services need to provide implementation
     * @param redirectUrl Url to redirect after successful authentication
     */
    AvlOidcCodeAuthService.prototype.login = function (redirectUrl) {
        location.href = this.generateLoginUrl(redirectUrl ? redirectUrl : location.href);
    };
    /**
     * Log out user and redirect after.
     * Custom auth services need to provide implementation
     * @param redirectUrl Url to redirect after logging out
     */
    AvlOidcCodeAuthService.prototype.logout = function (redirectUrl) {
        var logoutConfigSet = this.authConfig.logoutUrl != null || this.authConfig.logoutUrlParamIdToken != null;
        var user = this.userSubject.getValue();
        this.clearUser();
        if (!logoutConfigSet) {
            console.warn('User signed out locally, but logout request towards OIDC server not initiated since logoutUrl or logoutUrlParamIdToken not set in authConfig.');
            return;
        }
        var url = this.authConfig.logoutUrl + "?" + this.authConfig.logoutUrlParamIdToken + "=" + encodeURIComponent(user.id_token);
        if (this.authConfig.logoutUrlParamRedirect) {
            // Avoid any query parameters for the logout redirect url
            redirectUrl = redirectUrl !== null && redirectUrl !== void 0 ? redirectUrl : location.href.split('?')[0];
            url = url + "&" + this.authConfig.logoutUrlParamRedirect + "=" + encodeURIComponent(redirectUrl);
        }
        location.href = url;
    };
    AvlOidcCodeAuthService.prototype.generateLoginUrl = function (redirectUrl) {
        var redirect_b64 = '' + CryptoJS.enc.Base64.stringify(CryptoJS.enc.Utf8.parse(redirectUrl));
        // Generate a session value.
        var nonce = CryptoJS.lib.WordArray.random(16).toString();
        // Generate pkce
        var pkce = CryptoJS.lib.WordArray.random(32).toString();
        var bytes = CryptoJS.SHA256(pkce);
        var pkce_hash = CryptoJS.enc.Base64.stringify(bytes);
        // KeyCloak requires this - https://tools.ietf.org/html/rfc7636#appendix-A
        pkce_hash = pkce_hash.replace(/=/g, '');
        pkce_hash = pkce_hash.replace(/\+/g, '-');
        pkce_hash = pkce_hash.replace(/\//g, '_');
        this.pkce = pkce;
        this.nonce = nonce;
        var url = this.authConfig.loginUrl;
        url += '?' + this.authConfig.loginUrlParamRedirect + '=' + encodeURIComponent(redirect_b64);
        url += '&' + this.authConfig.loginUrlParamChallenge + '=' + encodeURIComponent(pkce_hash);
        url += '&' + this.authConfig.loginUrlParamNonce + '=' + encodeURIComponent(nonce);
        return url;
    };
    AvlOidcCodeAuthService.prototype.readClaimsFromToken = function (token) {
        if (!token.includes('.')) {
            // Token is not a valid JWT token
            return null;
        }
        var tokenParts = token.split('.');
        var claimsString = this.b64DecodeUnicode(tokenParts[1]);
        return JSON.parse(claimsString);
    };
    AvlOidcCodeAuthService.prototype.b64DecodeUnicode = function (str) {
        var base64 = str.replace(/\-/g, '+').replace(/\_/g, '/');
        return decodeURIComponent(atob(base64)
            .split('')
            .map(function (c) { return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2); })
            .join(''));
    };
    AvlOidcCodeAuthService.prototype.parseQueryString = function (queryString) {
        var e_2, _a;
        if (!queryString.length) {
            return [];
        }
        var queryDict = [];
        var pairs = queryString.split('&');
        try {
            for (var pairs_1 = __values(pairs), pairs_1_1 = pairs_1.next(); !pairs_1_1.done; pairs_1_1 = pairs_1.next()) {
                var pair = pairs_1_1.value;
                var index = pair.indexOf('=');
                var key = void 0;
                var value = void 0;
                if (index === -1) {
                    key = pair;
                    value = undefined;
                }
                else {
                    key = pair.substr(0, index);
                    value = pair.substr(index + 1);
                }
                queryDict.push({
                    key: decodeURIComponent(key),
                    value: decodeURIComponent(value)
                });
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (pairs_1_1 && !pairs_1_1.done && (_a = pairs_1.return)) _a.call(pairs_1);
            }
            finally { if (e_2) throw e_2.error; }
        }
        return queryDict;
    };
    AvlOidcCodeAuthService.ctorParameters = function () { return [
        { type: HttpBackend },
        { type: undefined, decorators: [{ type: Inject, args: [AUTH_CONFIG,] }] },
        { type: Router },
        { type: Location }
    ]; };
    AvlOidcCodeAuthService = __decorate([ __param(1, Inject(AUTH_CONFIG)),
        __metadata("design:paramtypes", [HttpBackend, Object, Router, Location])
    ], AvlOidcCodeAuthService);
AvlOidcCodeAuthService.ɵfac = function AvlOidcCodeAuthService_Factory(t) { return new (t || AvlOidcCodeAuthService)(ɵngcc0.ɵɵinject(ɵngcc1.HttpBackend), ɵngcc0.ɵɵinject(AUTH_CONFIG), ɵngcc0.ɵɵinject(ɵngcc2.Router), ɵngcc0.ɵɵinject(ɵngcc3.Location)); };
AvlOidcCodeAuthService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: AvlOidcCodeAuthService, factory: function (t) { return AvlOidcCodeAuthService.ɵfac(t); } });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(AvlOidcCodeAuthService, [{
        type: Injectable
    }], function () { return [{ type: ɵngcc1.HttpBackend }, { type: undefined, decorators: [{
                type: Inject,
                args: [AUTH_CONFIG]
            }] }, { type: ɵngcc2.Router }, { type: ɵngcc3.Location }]; }, null); })();
    return AvlOidcCodeAuthService;
}(AvlAuthService));
export { AvlOidcCodeAuthService };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXZsLW9pZGMtY29kZS1hdXRoLnNlcnZpY2UuanMiLCJzb3VyY2VzIjpbIm5nOi9AYXZsLW5nLWNvbnRyb2xzL2F1dGgvbGliL3NlcnZpY2VzL2F2bC1vaWRjLWNvZGUtYXV0aC5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ25ELE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMzQyxPQUFPLEVBQUUsV0FBVyxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUM1RSxPQUFPLEVBQUUsVUFBVSxFQUFFLGVBQWUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUNuRCxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDekMsT0FBTyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsdUJBQXVCLEVBQUUsU0FBUyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFL0UsT0FBTyxLQUFLLFFBQVEsTUFBTSxXQUFXLENBQUM7QUFHdEMsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ3BELE9BQU8sRUFBRSxXQUFXLEVBQWMsTUFBTSxjQUFjLENBQUM7QUFDdkQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUUvQyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFLL0M7QUFDRyxJQUR5QywwQ0FBYztBQUFDLElBMkJ6RCxnQ0FBb0IsV0FBd0IsRUFBK0IsVUFBc0IsRUFDdkYsTUFBYyxF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QUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFHQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUtBLEFBQUEsQUFBQSxBQTJCQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFEQSxBQUVBLEFBQUEsQUFtQ0EsQUFyQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQTNCQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFnQkEsQUFHQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQVNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFHQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQVBBLEFBU0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBUEEsQUFTQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBRUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFNQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFIQSxBQUFBLEFBQUEsQUFHQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBSUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUdBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBR0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUhBLEFBQUEsQUFBQSxBQUdBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBRUEsQUFJQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUlBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBclhBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBNUJBLEFBQUEsQUFEQSxBQUFBLEFBQUEsQUE0QkEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUE1QkEsQUFBQSxBQWlaQSxBQUFBLEFBQUEsQUFBQSxBQWpaQSxBQUFBLEFBQUEsQUFpWkEsQUFqWkEsQUFBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUsIEluamVjdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBMb2NhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XHJcbmltcG9ydCB7IEh0dHBCYWNrZW5kLCBIdHRwQ2xpZW50LCBIdHRwSGVhZGVycyB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgQmVoYXZpb3JTdWJqZWN0IH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IFJvdXRlciB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XHJcbmltcG9ydCB7IG1hcCwgdGFrZSwgZGlzdGluY3RVbnRpbEtleUNoYW5nZWQsIHNraXBXaGlsZSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcclxuXHJcbmltcG9ydCAqIGFzIENyeXB0b0pTIGZyb20gJ2NyeXB0by1qcyc7XHJcblxyXG5pbXBvcnQgeyBVc2VyIH0gZnJvbSAnLi4vdXNlci5tb2RlbCc7XHJcbmltcG9ydCB7IEF2bEF1dGhTZXJ2aWNlIH0gZnJvbSAnLi9hdmwtYXV0aC5zZXJ2aWNlJztcclxuaW1wb3J0IHsgQVVUSF9DT05GSUcsIEF1dGhDb25maWcgfSBmcm9tICcuLi92YXJpYWJsZXMnO1xyXG5pbXBvcnQgeyBUb2tlbnNQZW5kaW5nIH0gZnJvbSAnLi90b2tlbi1wZW5kaW5nJztcclxuaW1wb3J0IHsgVG9rZW5TdG9yYWdlIH0gZnJvbSAnLi90b2tlbi1zdG9yYWdlJztcclxuaW1wb3J0IHsgVG9rZW5SZXNwb25zZSB9IGZyb20gJy4vdG9rZW4tcmVzcG9uc2UnO1xyXG5pbXBvcnQgeyBTdG9yYWdlTmFtZXMgfSBmcm9tICcuL3N0b3JhZ2UtbmFtZXMnO1xyXG5pbXBvcnQgeyBUb2tlbkNsYWltcyB9IGZyb20gJy4vdG9rZW4tY2xhaW1zJztcclxuXHJcblxyXG5ASW5qZWN0YWJsZSgpXHJcbmV4cG9ydCBjbGFzcyBBdmxPaWRjQ29kZUF1dGhTZXJ2aWNlIGV4dGVuZHMgQXZsQXV0aFNlcnZpY2Uge1xyXG4gIC8vIHN1Y2Nlc3Mgd2lsbCBiZSBzZXQgYWZ0ZXIgdG9rZW5zIGFyZSBzdWNjZXNzZnVsbHkgZmV0Y2hlZCBvciBub3RcclxuICBwcml2YXRlIHRva2Vuc1BlbmRpbmdTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxUb2tlbnNQZW5kaW5nPihuZXcgVG9rZW5zUGVuZGluZyhmYWxzZSkpO1xyXG5cclxuICAvKipcclxuICAgKiBXaGVuIGZldGNoaW5nIHRva2VucywgdGhpcyBvYnNlcnZhYmxlIGNoYW5nZXNcclxuICAgKiBAcmV0dXJucyBPYnNlcnZhYmxlIHdpdGggZm9sbG93aW5nIGNvbnRleHQ6XHJcbiAgICogLSB3YWl0aW5nIC0gaWYgdHJ1ZSwgcmVxdWVzdCBmb3IgbmV3IHRva2VucyBpcyBtYWRlLCB0aGlzIGhhcHBlbnMgb24gaW5pdGlhbCBhdXRoZW50aWNhdGlvbiBhbmQgb24gcmVmcmVzaFRva2Vuc1xyXG4gICAqIC0gc3VjY2VzcyAtIHRydWUgZm9yIHN1Y2Nlc3NmdWwgYXV0aGVudGljYXRpb25cclxuICAgKi9cclxuICBwdWJsaWMgdG9rZW5zUGVuZGluZyQ6IE9ic2VydmFibGU8VG9rZW5zUGVuZGluZz47XHJcblxyXG4gIC8qKlxyXG4gICAqIE9ic2VydmFibGUgdHJhY2tpbmcgYXV0aGVudGljYXRlZCBzdGF0ZVxyXG4gICAqIFJlc29sdmVzIHRvIHRydWUgb24gc3VjY2Vzc2Z1bCBsb2cgaW4sIGZhbHNlIG90aGVyd2lzZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBpc0xvZ2dlZEluJDogT2JzZXJ2YWJsZTxib29sZWFuPjtcclxuICBcclxuICAvKipcclxuICAgKiBPYnNlcnZhYmxlIHRyYWNraW5nIGlmIHJlZGlyZWN0ZWQgZnJvbSBpZGJcclxuICAgKiBSZXNvbHZlcyB0byB0cnVlIG9uIHJlZGlyZWN0aW9uLCBmYWxzZSBvdGhlcndpc2VcclxuICAgKi9cclxuICBwdWJsaWMgcmVkaXJlY3RlZEZyb21Mb2dJbiA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4odW5kZWZpbmVkKTtcclxuXHJcbiAgcHJpdmF0ZSBodHRwOiBIdHRwQ2xpZW50O1xyXG4gIHByaXZhdGUgc3RvcmFnZTogVG9rZW5TdG9yYWdlO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGh0dHBCYWNrZW5kOiBIdHRwQmFja2VuZCwgQEluamVjdChBVVRIX0NPTkZJRykgcHJpdmF0ZSBhdXRoQ29uZmlnOiBBdXRoQ29uZmlnLFxyXG4gICAgcHJpdmF0ZSByb3V0ZXI6IFJvdXRlciwgcHJpdmF0ZSBsb2M6IExvY2F0aW9uKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIHRoaXMuaHR0cCA9IG5ldyBIdHRwQ2xpZW50KHRoaXMuaHR0cEJhY2tlbmQpO1xyXG5cclxuICAgIHRoaXMudG9rZW5zUGVuZGluZyQgPSB0aGlzLnRva2Vuc1BlbmRpbmdTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xyXG4gICAgdGhpcy5pc0xvZ2dlZEluJCA9IG5ldyBPYnNlcnZhYmxlPGJvb2xlYW4+KG9ic2VydmVyID0+IHtcclxuICAgICAgY29uc3QgdG9rZW5zUGVuZGluZ1N0YXRlID0gdGhpcy50b2tlbnNQZW5kaW5nU3ViamVjdC52YWx1ZTtcclxuICAgICAgdGhpcy50b2tlbnNQZW5kaW5nJC5waXBlKFxyXG4gICAgICAgIGRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkKCd3YWl0aW5nJyksXHJcbiAgICAgICAgc2tpcFdoaWxlKHRva2VuUGVuZGluZyA9PiB0b2tlblBlbmRpbmcud2FpdGluZyAhPT0gZmFsc2UpLFxyXG4gICAgICAgIG1hcCh0b2tlblBlbmRpbmcgPT4ge1xyXG4gICAgICAgICAgaWYgKHRva2VuUGVuZGluZy5zdWNjZXNzICE9IG51bGwpIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh0b2tlblBlbmRpbmcuc3VjY2Vzcyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSksIHRha2UoMSkpLnN1YnNjcmliZSgpO1xyXG4gICAgICBpZiAodG9rZW5zUGVuZGluZ1N0YXRlLndhaXRpbmcgIT09IHRydWUgJiYgdG9rZW5zUGVuZGluZ1N0YXRlLnN1Y2Nlc3MgIT09IG51bGwpIHtcclxuICAgICAgICBvYnNlcnZlci5uZXh0KHRoaXMuY3VycmVudFVzZXIgIT0gbnVsbCAmJiB0aGlzLmlzQWNjZXNzVG9rZW5WYWxpZCgpKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5zdG9yYWdlID0gbmV3IFRva2VuU3RvcmFnZSh0aGlzLmF1dGhDb25maWcudG9rZW5QcmVmaXgpO1xyXG4gICAgY29uc3QgdXNlciA9IHRoaXMuc3RvcmFnZS5yZWFkVXNlcigpO1xyXG4gICAgXHJcbiAgICBpZiAodGhpcy5wZXJzaXN0ZWRVc2VySW52YWxpZCh1c2VyKSkge1xyXG4gICAgICB0aGlzLmNsZWFyVXNlcigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5wZXJzaXN0VXNlcih1c2VyKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBpZiB1c2VyIGlzIG5vdCBsb2dnZWQgaW4gYW5kIHBrY2UgZXhpc3RzIGhhbmRsZSByZWRpcmVjdCBmcm9tIG9pZGMgc2VydmVyIGlmIHBvc3NpYmxlXHJcbiAgICBpZiAodGhpcy5jdXJyZW50VXNlciA9PSBudWxsICYmIHRoaXMucGtjZSkge1xyXG4gICAgICB0aGlzLmhhbmRsZU9pZGNSZWRpcmVjdCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5yZWRpcmVjdGVkRnJvbUxvZ0luLm5leHQoQm9vbGVhbih0aGlzLmN1cnJlbnRVc2VyKSk7XHJcbiAgICB9XHJcbiAgfSBcclxuXHJcbiAgXHJcbiAgcHJpdmF0ZSBwZXJzaXN0ZWRVc2VySW52YWxpZChkYXRhOiBQYXJ0aWFsPFVzZXI+KTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICBkYXRhLnVzZXJuYW1lID09IG51bGwgfHwgZGF0YS5hY2Nlc3NfdG9rZW4gPT0gbnVsbCB8fCBkYXRhLmFjY2Vzc190b2tlbl9leHBpcmVzIDwgRGF0ZS5ub3coKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0IHBrY2UoKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcclxuICAgIHJldHVybiB0aGlzLnN0b3JhZ2UuZ2V0SXRlbSgncGtjZScpIHx8IHVuZGVmaW5lZDtcclxuICB9XHJcbiAgcHJpdmF0ZSBzZXQgcGtjZShjOiBzdHJpbmcgfCB1bmRlZmluZWQpIHtcclxuICAgIGlmIChjKSB7XHJcbiAgICAgIHRoaXMuc3RvcmFnZS5zZXRJdGVtKCdwa2NlJywgYyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnN0b3JhZ2UucmVtb3ZlSXRlbSgncGtjZScpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXQgbm9uY2UoKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcclxuICAgIHJldHVybiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdub25jZScpIHx8IHVuZGVmaW5lZDtcclxuICB9XHJcbiAgcHJpdmF0ZSBzZXQgbm9uY2UoYzogc3RyaW5nIHwgdW5kZWZpbmVkKSB7XHJcbiAgICBpZiAoYykge1xyXG4gICAgICB0aGlzLnN0b3JhZ2Uuc2V0SXRlbSgnbm9uY2UnLCBjKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc3RvcmFnZS5yZW1vdmVJdGVtKCdub25jZScpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpc0FjY2Vzc1Rva2VuVmFsaWQoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gRGF0ZS5ub3coKSA8IHRoaXMuY3VycmVudFVzZXIuYWNjZXNzX3Rva2VuX2V4cGlyZXM7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHBlcnNpc3RVc2VyKHVzZXI/OiBVc2VyKTogdm9pZCB7XHJcbiAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgdGhpcy5jbGVhclVzZXIoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zdG9yYWdlLnN0b3JlVXNlcih1c2VyKTtcclxuICAgIHRoaXMudXNlclN1YmplY3QubmV4dCh1c2VyKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2xlYXJVc2VyKCk6IHZvaWQge1xyXG4gICAgdGhpcy5zdG9yYWdlLmNsZWFyVXNlcigpO1xyXG4gICAgdGhpcy51c2VyU3ViamVjdC5uZXh0KHVuZGVmaW5lZCk7XHJcbiAgfVxyXG5cclxuICAvKlxyXG4gICAqIENoZWNrcyBpZiBjdXJyZW50IHVybCBpcyByZWRpcmVjdCBmcm9tIG9pZGMgc2VydmVyIGFuZCBnZXRzIGFjY2VzcyB0b2tlbiBmcm9tIHRoZSBzZXJ2ZXIuXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBhc3luYyBoYW5kbGVPaWRjUmVkaXJlY3QoKSB7XHJcbiAgICBjb25zdCBwa2NlID0gdGhpcy5wa2NlO1xyXG4gICAgdGhpcy5wa2NlID0gdW5kZWZpbmVkO1xyXG5cclxuICAgIGNvbnN0IHVybFBhcnRzID0gdGhpcy5sb2MucGF0aCh0cnVlKS5zcGxpdCgnPycsIDIpO1xyXG4gICAgbGV0IHVybEhhc2g6IHN0cmluZztcclxuICAgIGxldCBmaXJzdDogbnVtYmVyO1xyXG4gICAgbGV0IGxhc3Q6IG51bWJlcjtcclxuICAgIGxldCB1cmxQYXJ0U3BsaXQ6IHN0cmluZ1tdO1xyXG5cclxuICAgIGlmICh1cmxQYXJ0cy5sZW5ndGggPT09IDIpIHtcclxuICAgICAgZmlyc3QgPSB1cmxQYXJ0c1sxXS5sYXN0SW5kZXhPZignIycpO1xyXG4gICAgICBpZiAoZmlyc3QgIT09IC0xKSB7XHJcbiAgICAgICAgbGFzdCA9IHVybFBhcnRzWzFdLmxhc3RJbmRleE9mKCcmJyk7XHJcbiAgICAgICAgdXJsSGFzaCA9IHVybFBhcnRzWzFdLnNsaWNlKGZpcnN0LCBsYXN0KTtcclxuICAgICAgICB1cmxQYXJ0U3BsaXQgPSB1cmxQYXJ0c1sxXS5zcGxpdCgnIycsIDIpO1xyXG4gICAgICAgIHVybFBhcnRzWzFdID0gdXJsUGFydHNbMV0uc3BsaXQoJyYnKS5wb3AoKTtcclxuICAgICAgICB1cmxQYXJ0c1sxXSA9IHVybFBhcnRTcGxpdFswXS5jb25jYXQoJyYnKS5jb25jYXQodXJsUGFydHNbMV0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHF1ZXJ5ID0gdXJsUGFydHMubGVuZ3RoID09PSAyID8gdGhpcy5wYXJzZVF1ZXJ5U3RyaW5nKHVybFBhcnRzWzFdKSA6IFtdO1xyXG4gICAgbGV0IHF1ZXJ5Q29kZTogc3RyaW5nO1xyXG4gICAgZm9yIChsZXQgaSA9IHF1ZXJ5Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgIGlmIChxdWVyeVtpXS5rZXkgPT09ICdjb2RlJykge1xyXG4gICAgICAgIHF1ZXJ5Q29kZSA9IHF1ZXJ5W2ldLnZhbHVlO1xyXG4gICAgICAgIHF1ZXJ5ID0gWy4uLnF1ZXJ5LnNsaWNlKDAsIGkpLCAuLi5xdWVyeS5zbGljZShpICsgMSldO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAodXJsUGFydHMubGVuZ3RoID09PSAyICYmIHF1ZXJ5Q29kZSkge1xyXG4gICAgICBjb25zdCBub25jZSA9IHRoaXMubm9uY2U7XHJcbiAgICAgIHRoaXMubm9uY2UgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICBjb25zdCBodHRwT3B0aW9ucyA9IHtcclxuICAgICAgICBoZWFkZXJzOiBuZXcgSHR0cEhlYWRlcnMoe1xyXG4gICAgICAgICAgY29kZTogcXVlcnlDb2RlLFxyXG4gICAgICAgICAgdmVyaWZpZXI6IHBrY2UsXHJcbiAgICAgICAgICBub25jZTogbm9uY2VcclxuICAgICAgICB9KVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy51cGRhdGVUb2tlbnNQZW5kaW5nKG5ldyBUb2tlbnNQZW5kaW5nKHRydWUpKTtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgdGhpcy5odHRwXHJcbiAgICAgICAgICAucG9zdDxUb2tlblJlc3BvbnNlPih0aGlzLmF1dGhDb25maWcudG9rZW5VcmwsIHt9LCBodHRwT3B0aW9ucylcclxuICAgICAgICAgIC5waXBlKG1hcCh0b2tlbiA9PiB0aGlzLnJlYWRVc2VyRnJvbVRva2VuKHRva2VuKSkpXHJcbiAgICAgICAgICAudG9Qcm9taXNlKCk7XHJcbiAgICAgICAgdGhpcy5wZXJzaXN0VXNlcih1c2VyKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVRva2Vuc1BlbmRpbmcobmV3IFRva2Vuc1BlbmRpbmcoZmFsc2UsIHRydWUpKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZVRva2Vuc1BlbmRpbmcobmV3IFRva2Vuc1BlbmRpbmcoZmFsc2UsIGZhbHNlKSwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodXJsSGFzaCkge1xyXG4gICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZUJ5VXJsKFxyXG4gICAgICAgIGAke3VybFBhcnRzWzBdfSR7dGhpcy5yZWNvbnN0cnVjdFF1ZXJ5UGFyYW1TdHJpbmcocXVlcnkpfSR7dXJsSGFzaH1gLFxyXG4gICAgICAgIHsgcmVwbGFjZVVybDogdHJ1ZSB9XHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMucmVkaXJlY3RlZEZyb21Mb2dJbi5uZXh0KHRydWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGVCeVVybChgJHt1cmxQYXJ0c1swXX0ke3RoaXMucmVjb25zdHJ1Y3RRdWVyeVBhcmFtU3RyaW5nKHF1ZXJ5KX1gLCB7XHJcbiAgICAgICAgcmVwbGFjZVVybDogdHJ1ZVxyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5yZWRpcmVjdGVkRnJvbUxvZ0luLm5leHQoQm9vbGVhbih0aGlzLmN1cnJlbnRVc2VyKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcmVsb2FkUGVyc2lzdGVkVXNlckRhdGEoKSB7XHJcbiAgICBjb25zdCB1c2VyID0gdGhpcy5zdG9yYWdlLnJlYWRVc2VyKCk7XHJcbiAgICBcclxuICAgIGlmICh0aGlzLnBlcnNpc3RlZFVzZXJJbnZhbGlkKHVzZXIpKSB7XHJcbiAgICAgIHRoaXMuY2xlYXJVc2VyKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnBlcnNpc3RVc2VyKHVzZXIpO1xyXG4gICAgfVxyXG4gIH1cclxuICBwcml2YXRlIHJlY29uc3RydWN0UXVlcnlQYXJhbVN0cmluZyhxdWVyeVBhcmFtczogeyBrZXk6IHN0cmluZzsgdmFsdWU6IHN0cmluZyB9W10pOiBzdHJpbmcge1xyXG4gICAgbGV0IHMgPSAnPyc7XHJcbiAgICBpZiAocXVlcnlQYXJhbXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuICAgIGZvciAoY29uc3QgcSBvZiBxdWVyeVBhcmFtcykge1xyXG4gICAgICBpZiAocyA9PT0gJz8nKSB7XHJcbiAgICAgICAgcyArPSBgJHtlbmNvZGVVUklDb21wb25lbnQocS5rZXkpfT0ke2VuY29kZVVSSUNvbXBvbmVudChxLnZhbHVlKX1gO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHMgKz0gYCYke2VuY29kZVVSSUNvbXBvbmVudChxLmtleSl9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHEudmFsdWUpfWA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBzO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB1cGRhdGVUb2tlbnNQZW5kaW5nKFxyXG4gICAgc3RhdGU6IFRva2Vuc1BlbmRpbmcsXHJcbiAgICBlcnJvck1lc3NhZ2U/OiBzdHJpbmdcclxuICApIHtcclxuICAgIC8vIHRoZSBvcmRlciBoZXJlIGlzIGltcG9ydGFudFxyXG4gICAgLy8gZXJyb3JNZXNzYWdlIHdpbGwgYmUgc2V0IGJlZm9yZSBpc0xvZ2dlZEluIGJlY29tZXMgZmFsc2VcclxuICAgIGlmIChzdGF0ZS53YWl0aW5nID09PSBmYWxzZSkge1xyXG4gICAgICB0aGlzLmVycm9yTWVzc2FnZVN1YmplY3QubmV4dChlcnJvck1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gICAgdGhpcy50b2tlbnNQZW5kaW5nU3ViamVjdC5uZXh0KHN0YXRlKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVhZFVzZXJGcm9tVG9rZW4odG9rZW46IFRva2VuUmVzcG9uc2UpOiBVc2VyIHtcclxuICAgIGNvbnN0IGFjY2Vzc1Rva2VuQ2xhaW1zID0gdGhpcy5yZWFkQ2xhaW1zRnJvbVRva2VuKHRva2VuLmFjY2Vzc3Rva2VuKTtcclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgYWN0dWFsIGV4cGlyeSBkYXRlIGZvciB0aGlzIG1hY2hpbmVcclxuICAgIGNvbnN0IGFjY2Vzc1Rva2VuU3RvcmVkQXQgPSBEYXRlLm5vdygpOyAvLyBbbXNdXHJcbiAgICBjb25zdCBhY2Nlc3NUb2tlbkV4cGlyZXNBdCA9IGFjY2Vzc1Rva2VuU3RvcmVkQXQgKyB0b2tlbi5leHBpcmVzSW4gKiAxMDAwO1xyXG5cclxuICAgIGNvbnN0IHJlZnJlc2hUb2tlbkNsYWltcyA9IHRoaXMucmVhZENsYWltc0Zyb21Ub2tlbih0b2tlbi5yZWZyZXNodG9rZW4pO1xyXG4gICAgbGV0IHJlZnJlc2hUb2tlbkV4cGlyZXNBdCA9IG51bGw7XHJcbiAgICBpZiAocmVmcmVzaFRva2VuQ2xhaW1zKSB7XHJcbiAgICAgIC8vIElmIHRpbWUgdmFsdWUgaXMgMCB0b2tlbiBsYXN0cyBpbmRlZmluaXRlbHlcclxuICAgICAgY29uc3QgcmVmcmVzaFRva2VuRXhwaXJlc0luID1cclxuICAgICAgICByZWZyZXNoVG9rZW5DbGFpbXNbJ2V4cCddICE9PSAwID8gcmVmcmVzaFRva2VuQ2xhaW1zWydleHAnXSAtIHJlZnJlc2hUb2tlbkNsYWltc1snaWF0J10gOiAwO1xyXG4gICAgICBjb25zdCByZWZyZXNoVG9rZW5TdG9yZWRBdCA9IGFjY2Vzc1Rva2VuU3RvcmVkQXQ7XHJcbiAgICAgIHJlZnJlc2hUb2tlbkV4cGlyZXNBdCA9XHJcbiAgICAgICAgcmVmcmVzaFRva2VuRXhwaXJlc0luICE9PSAwID8gcmVmcmVzaFRva2VuU3RvcmVkQXQgKyByZWZyZXNoVG9rZW5FeHBpcmVzSW4gKiAxMDAwIDogMDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByb2xlcyA9IGFjY2Vzc1Rva2VuQ2xhaW1zPy5yb2xlcyBhcyBzdHJpbmdbXTtcclxuICAgIGlmIChyb2xlcyAmJiB0aGlzLmhhc1JlcXVpcmVkUm9sZShyb2xlcykpIHtcclxuICAgICAgdGhpcy5zdG9yYWdlLnNldEl0ZW0oU3RvcmFnZU5hbWVzLkFjY2Vzc1Rva2VuU3RvcmVkQXQsIGAke2FjY2Vzc1Rva2VuU3RvcmVkQXR9YCk7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgdXNlcm5hbWU6IGFjY2Vzc1Rva2VuQ2xhaW1zLnByZWZlcnJlZF91c2VybmFtZSxcclxuICAgICAgICBuYW1lOiBhY2Nlc3NUb2tlbkNsYWltcy5uYW1lID8/IGFjY2Vzc1Rva2VuQ2xhaW1zLnByZWZlcnJlZF91c2VybmFtZSxcclxuICAgICAgICBhY2Nlc3NfdG9rZW46IHRva2VuLmFjY2Vzc3Rva2VuLFxyXG4gICAgICAgIGFjY2Vzc190b2tlbl9leHBpcmVzOiBhY2Nlc3NUb2tlbkV4cGlyZXNBdCxcclxuICAgICAgICByZWZyZXNoX3Rva2VuOiB0b2tlbi5yZWZyZXNodG9rZW4sXHJcbiAgICAgICAgcmVmcmVzaF90b2tlbl9leHBpcmVzOiByZWZyZXNoVG9rZW5FeHBpcmVzQXQsXHJcbiAgICAgICAgaWRfdG9rZW46IHRva2VuLmlkVG9rZW4sXHJcbiAgICAgICAgcm9sZXM6IHJvbGVzXHJcbiAgICAgIH0gYXMgVXNlcjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUm9sZSAke3RoaXMuYXV0aENvbmZpZy5yZXF1aXJlZFJvbGV9IG5vdCBpbiBjbGFpbXNgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFzUmVxdWlyZWRSb2xlKHJvbGVzOiBzdHJpbmdbXSkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgIXRoaXMuYXV0aENvbmZpZy5yZXF1aXJlZFJvbGUgfHxcclxuICAgICAgKHRoaXMuYXV0aENvbmZpZy5yZXF1aXJlZFJvbGUgJiYgcm9sZXMuaW5kZXhPZih0aGlzLmF1dGhDb25maWcucmVxdWlyZWRSb2xlKSAhPT0gLTEpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSWYgbmVlZGVkLCB0aGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIHJlZnJlc2ggdG9rZW5zIGZvciBjdXJyZW50IHVzZXJcclxuICAgKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmVkIHdpdGggb2JqZWN0IGNvbnRhaW5pbmcgbmV3IHRva2Vuc1xyXG4gICAqL1xyXG4gIHB1YmxpYyBhc3luYyByZWZyZXNoVG9rZW5zKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICBjb25zdCBodHRwT3B0aW9ucyA9IHtcclxuICAgICAgaGVhZGVyczogbmV3IEh0dHBIZWFkZXJzKHtcclxuICAgICAgICBncmFudF90eXBlOiAncmVmcmVzaF90b2tlbicsXHJcbiAgICAgICAgJ3JlZnJlc2gtdG9rZW4nOiB0aGlzLnN0b3JhZ2UuZ2V0SXRlbShTdG9yYWdlTmFtZXMuUmVmcmVzaFRva2VuKVxyXG4gICAgICB9KVxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoIXRoaXMuYXV0aENvbmZpZy5yZWZyZXNoVXJsKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcigncmVmcmVzaFVybCBtaXNzaW5nIGluIEF1dGhDb25maWcnKTtcclxuICAgIH1cclxuICAgIHRoaXMudXBkYXRlVG9rZW5zUGVuZGluZyhuZXcgVG9rZW5zUGVuZGluZyh0cnVlKSk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHRoaXMuaHR0cFxyXG4gICAgICAgIC5wb3N0PFRva2VuUmVzcG9uc2U+KHRoaXMuYXV0aENvbmZpZy5yZWZyZXNoVXJsLCB7fSwgaHR0cE9wdGlvbnMpXHJcbiAgICAgICAgLnBpcGUobWFwKHRva2VuID0+IHRoaXMucmVhZFVzZXJGcm9tVG9rZW4odG9rZW4pKSlcclxuICAgICAgICAudG9Qcm9taXNlKCk7XHJcbiAgICAgIHRoaXMucGVyc2lzdFVzZXIodXNlcik7XHJcbiAgICAgIHRoaXMudXBkYXRlVG9rZW5zUGVuZGluZyhuZXcgVG9rZW5zUGVuZGluZyhmYWxzZSwgdHJ1ZSkpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgdGhpcy51cGRhdGVUb2tlbnNQZW5kaW5nKG5ldyBUb2tlbnNQZW5kaW5nKGZhbHNlLCBmYWxzZSksIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIExvZ2luIHVzZXIgYW5kIHJlZGlyZWN0IGFmdGVyIHN1Y2Nlc3NmdWwgYXV0aGVudGljYXRpb24uXHJcbiAgICogQ3VzdG9tIGF1dGggc2VydmljZXMgbmVlZCB0byBwcm92aWRlIGltcGxlbWVudGF0aW9uXHJcbiAgICogQHBhcmFtIHJlZGlyZWN0VXJsIFVybCB0byByZWRpcmVjdCBhZnRlciBzdWNjZXNzZnVsIGF1dGhlbnRpY2F0aW9uXHJcbiAgICovXHJcbiAgbG9naW4ocmVkaXJlY3RVcmw/OiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIGxvY2F0aW9uLmhyZWYgPSB0aGlzLmdlbmVyYXRlTG9naW5VcmwocmVkaXJlY3RVcmwgPyByZWRpcmVjdFVybCA6IGxvY2F0aW9uLmhyZWYpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTG9nIG91dCB1c2VyIGFuZCByZWRpcmVjdCBhZnRlci5cclxuICAgKiBDdXN0b20gYXV0aCBzZXJ2aWNlcyBuZWVkIHRvIHByb3ZpZGUgaW1wbGVtZW50YXRpb25cclxuICAgKiBAcGFyYW0gcmVkaXJlY3RVcmwgVXJsIHRvIHJlZGlyZWN0IGFmdGVyIGxvZ2dpbmcgb3V0XHJcbiAgICovXHJcbiAgbG9nb3V0KHJlZGlyZWN0VXJsPzogc3RyaW5nKTogdm9pZCB7XHJcbiAgICBjb25zdCBsb2dvdXRDb25maWdTZXQgPVxyXG4gICAgICB0aGlzLmF1dGhDb25maWcubG9nb3V0VXJsICE9IG51bGwgfHwgdGhpcy5hdXRoQ29uZmlnLmxvZ291dFVybFBhcmFtSWRUb2tlbiAhPSBudWxsO1xyXG4gICAgY29uc3QgdXNlciA9IHRoaXMudXNlclN1YmplY3QuZ2V0VmFsdWUoKTtcclxuICAgIHRoaXMuY2xlYXJVc2VyKCk7XHJcbiAgICBpZiAoIWxvZ291dENvbmZpZ1NldCkge1xyXG4gICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgJ1VzZXIgc2lnbmVkIG91dCBsb2NhbGx5LCBidXQgbG9nb3V0IHJlcXVlc3QgdG93YXJkcyBPSURDIHNlcnZlciBub3QgaW5pdGlhdGVkIHNpbmNlIGxvZ291dFVybCBvciBsb2dvdXRVcmxQYXJhbUlkVG9rZW4gbm90IHNldCBpbiBhdXRoQ29uZmlnLidcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbGV0IHVybCA9IGAke3RoaXMuYXV0aENvbmZpZy5sb2dvdXRVcmx9PyR7XHJcbiAgICAgIHRoaXMuYXV0aENvbmZpZy5sb2dvdXRVcmxQYXJhbUlkVG9rZW5cclxuICAgIH09JHtlbmNvZGVVUklDb21wb25lbnQodXNlci5pZF90b2tlbil9YDtcclxuICAgIGlmICh0aGlzLmF1dGhDb25maWcubG9nb3V0VXJsUGFyYW1SZWRpcmVjdCkge1xyXG4gICAgICAvLyBBdm9pZCBhbnkgcXVlcnkgcGFyYW1ldGVycyBmb3IgdGhlIGxvZ291dCByZWRpcmVjdCB1cmxcclxuICAgICAgcmVkaXJlY3RVcmwgPSByZWRpcmVjdFVybCA/PyBsb2NhdGlvbi5ocmVmLnNwbGl0KCc/JylbMF07XHJcbiAgICAgIHVybCA9IGAke3VybH0mJHt0aGlzLmF1dGhDb25maWcubG9nb3V0VXJsUGFyYW1SZWRpcmVjdH09JHtlbmNvZGVVUklDb21wb25lbnQocmVkaXJlY3RVcmwpfWA7XHJcbiAgICB9XHJcbiAgICBsb2NhdGlvbi5ocmVmID0gdXJsO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZW5lcmF0ZUxvZ2luVXJsKHJlZGlyZWN0VXJsOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgcmVkaXJlY3RfYjY0ID0gJycgKyBDcnlwdG9KUy5lbmMuQmFzZTY0LnN0cmluZ2lmeShDcnlwdG9KUy5lbmMuVXRmOC5wYXJzZShyZWRpcmVjdFVybCkpO1xyXG5cclxuICAgIC8vIEdlbmVyYXRlIGEgc2Vzc2lvbiB2YWx1ZS5cclxuICAgIGNvbnN0IG5vbmNlID0gQ3J5cHRvSlMubGliLldvcmRBcnJheS5yYW5kb20oMTYpLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgLy8gR2VuZXJhdGUgcGtjZVxyXG4gICAgY29uc3QgcGtjZSA9IENyeXB0b0pTLmxpYi5Xb3JkQXJyYXkucmFuZG9tKDMyKS50b1N0cmluZygpO1xyXG4gICAgY29uc3QgYnl0ZXMgPSBDcnlwdG9KUy5TSEEyNTYocGtjZSkgYXMgQ3J5cHRvSlMuV29yZEFycmF5O1xyXG4gICAgbGV0IHBrY2VfaGFzaCA9IENyeXB0b0pTLmVuYy5CYXNlNjQuc3RyaW5naWZ5KGJ5dGVzKTtcclxuXHJcbiAgICAvLyBLZXlDbG9hayByZXF1aXJlcyB0aGlzIC0gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzc2MzYjYXBwZW5kaXgtQVxyXG4gICAgcGtjZV9oYXNoID0gcGtjZV9oYXNoLnJlcGxhY2UoLz0vZywgJycpO1xyXG4gICAgcGtjZV9oYXNoID0gcGtjZV9oYXNoLnJlcGxhY2UoL1xcKy9nLCAnLScpO1xyXG4gICAgcGtjZV9oYXNoID0gcGtjZV9oYXNoLnJlcGxhY2UoL1xcLy9nLCAnXycpO1xyXG5cclxuICAgIHRoaXMucGtjZSA9IHBrY2U7XHJcbiAgICB0aGlzLm5vbmNlID0gbm9uY2U7XHJcblxyXG4gICAgbGV0IHVybCA9IHRoaXMuYXV0aENvbmZpZy5sb2dpblVybDtcclxuICAgIHVybCArPSAnPycgKyB0aGlzLmF1dGhDb25maWcubG9naW5VcmxQYXJhbVJlZGlyZWN0ICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHJlZGlyZWN0X2I2NCk7XHJcbiAgICB1cmwgKz0gJyYnICsgdGhpcy5hdXRoQ29uZmlnLmxvZ2luVXJsUGFyYW1DaGFsbGVuZ2UgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQocGtjZV9oYXNoKTtcclxuICAgIHVybCArPSAnJicgKyB0aGlzLmF1dGhDb25maWcubG9naW5VcmxQYXJhbU5vbmNlICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KG5vbmNlKTtcclxuICAgIHJldHVybiB1cmw7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJlYWRDbGFpbXNGcm9tVG9rZW4odG9rZW46IHN0cmluZyk6IFRva2VuQ2xhaW1zIHwgbnVsbCB7XHJcbiAgICBpZiAoIXRva2VuLmluY2x1ZGVzKCcuJykpIHtcclxuICAgICAgLy8gVG9rZW4gaXMgbm90IGEgdmFsaWQgSldUIHRva2VuXHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgY29uc3QgdG9rZW5QYXJ0cyA9IHRva2VuLnNwbGl0KCcuJyk7XHJcbiAgICBjb25zdCBjbGFpbXNTdHJpbmcgPSB0aGlzLmI2NERlY29kZVVuaWNvZGUodG9rZW5QYXJ0c1sxXSk7XHJcbiAgICByZXR1cm4gSlNPTi5wYXJzZShjbGFpbXNTdHJpbmcpIGFzIFRva2VuQ2xhaW1zO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBiNjREZWNvZGVVbmljb2RlKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGJhc2U2NCA9IHN0ci5yZXBsYWNlKC9cXC0vZywgJysnKS5yZXBsYWNlKC9cXF8vZywgJy8nKTtcclxuXHJcbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KFxyXG4gICAgICBhdG9iKGJhc2U2NClcclxuICAgICAgICAuc3BsaXQoJycpXHJcbiAgICAgICAgLm1hcChjID0+ICclJyArICgnMDAnICsgYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpKVxyXG4gICAgICAgIC5qb2luKCcnKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcGFyc2VRdWVyeVN0cmluZyhxdWVyeVN0cmluZzogc3RyaW5nKTogeyBrZXk6IHN0cmluZzsgdmFsdWU6IHN0cmluZyB9W10ge1xyXG4gICAgaWYgKCFxdWVyeVN0cmluZy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcXVlcnlEaWN0ID0gW107XHJcbiAgICBjb25zdCBwYWlycyA9IHF1ZXJ5U3RyaW5nLnNwbGl0KCcmJyk7XHJcbiAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcclxuICAgICAgY29uc3QgaW5kZXggPSBwYWlyLmluZGV4T2YoJz0nKTtcclxuICAgICAgbGV0IGtleTogc3RyaW5nO1xyXG4gICAgICBsZXQgdmFsdWU6IHN0cmluZztcclxuICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xyXG4gICAgICAgIGtleSA9IHBhaXI7XHJcbiAgICAgICAgdmFsdWUgPSB1bmRlZmluZWQ7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAga2V5ID0gcGFpci5zdWJzdHIoMCwgaW5kZXgpO1xyXG4gICAgICAgIHZhbHVlID0gcGFpci5zdWJzdHIoaW5kZXggKyAxKTtcclxuICAgICAgfVxyXG4gICAgICBxdWVyeURpY3QucHVzaCh7XHJcbiAgICAgICAga2V5OiBkZWNvZGVVUklDb21wb25lbnQoa2V5KSxcclxuICAgICAgICB2YWx1ZTogZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBxdWVyeURpY3Q7XHJcbiAgfVxyXG59XHJcbiJdfQ==