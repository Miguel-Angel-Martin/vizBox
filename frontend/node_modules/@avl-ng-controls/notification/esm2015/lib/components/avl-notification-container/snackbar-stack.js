var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
import { BehaviorSubject } from 'rxjs';
import { skipWhile } from 'rxjs/operators';
import { ANIMATION_DURATION, ACTION_BUTTON_MESSAGE } from './avl-notification-container.consts';
import { SnackbarMethodDescription } from './directives/show-hide-snackbar.directive';
/** @hidden */
export class SnackbarStack {
    constructor(stackType) {
        /** @hidden */
        this.notificationList = [];
        /** @hidden */
        this.activeNotification$ = new BehaviorSubject(undefined);
        /** @hidden */
        this.stackIndicator = false;
        /** @hidden */
        this.actionButtonMessage = ACTION_BUTTON_MESSAGE;
        this.openNextNotification = (stackType) => {
            this.methodDescription = new SnackbarMethodDescription('show', !this.reopen);
            if (!this.reopen) {
                this.stackAnimation = 1 /* ToTop */;
            }
            else {
                this.stackAnimation = 4 /* FromStack */;
            }
            this.setStackIndicatorProperties(stackType);
            this.reopen = false;
            this.dismissedSilently = false;
        };
        this.resetValues = () => {
            this.notificationList = [];
            this.previousNotification = undefined;
            this.stackIndicator = undefined;
        };
        this.setStackIndicatorProperties = (stackType) => {
            const notificationsCount = this.notificationList.length;
            this.stackIndicator = notificationsCount > 1;
            const timeout = setTimeout(() => {
                this.previousNotification = this.notificationList[notificationsCount - 1];
                this.buttonLabel = this.setButtonLabel(notificationsCount, stackType);
                this.stackIndicatorButtonLabel = this.setButtonLabel(notificationsCount - 1, stackType);
                clearTimeout(timeout);
            }, this.previousNotification ? ANIMATION_DURATION : 0);
        };
        this.setButtonLabel = (notificationsCount, type) => {
            return notificationsCount > 0
                ? this.actionButtonMessage
                    .replace('_TYPE ', type === 'info' ? '' : type + ' ')
                    .replace('_X', String(notificationsCount))
                : null;
        };
        this.translateLabels();
        this.methodDescription = new SnackbarMethodDescription(undefined, undefined);
        this.activeNotification$
            .pipe(skipWhile(notification => notification === undefined))
            .subscribe((notification) => {
            if (notification) {
                if (this.notificationList.length > 0) {
                    const timeout = setTimeout(() => {
                        this.openNextNotification(stackType);
                        clearTimeout(timeout);
                    }, this.previousNotification ? ANIMATION_DURATION : 0);
                }
                else {
                    this.openNextNotification(stackType);
                }
            }
            else {
                this.resetValues();
            }
        });
    }
    translateLabels() {
        return __awaiter(this, void 0, void 0, function* () {
            if (!AvlLocalizationService || !AvlLocalizationService.translationService) {
                return;
            }
            const translationService = AvlLocalizationService.translationService;
            this.actionButtonMessage = yield translationService.translate('VizBox.NotificationContainer._X_more_TYPE_notifications');
        });
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic25hY2tiYXItc3RhY2suanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AYXZsLW5nLWNvbnRyb2xzL25vdGlmaWNhdGlvbi8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL2F2bC1ub3RpZmljYXRpb24tY29udGFpbmVyL3NuYWNrYmFyLXN0YWNrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUNBLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDdkMsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRTNDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxxQkFBcUIsRUFBRSxNQUFNLHFDQUFxQyxDQUFDO0FBQ2hHLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxNQUFNLDJDQUEyQyxDQUFDO0FBRXRGLGNBQWM7QUFDZCxNQUFNLE9BQU8sYUFBYTtJQXFDeEIsWUFBWSxTQUFpQjtRQWpDN0IsY0FBYztRQUNQLHFCQUFnQixHQUFzQixFQUFFLENBQUM7UUFFaEQsY0FBYztRQUNQLHdCQUFtQixHQUFxQyxJQUFJLGVBQWUsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQVE5RixjQUFjO1FBQ1AsbUJBQWMsR0FBRyxLQUFLLENBQUM7UUFpQjlCLGNBQWM7UUFDUCx3QkFBbUIsR0FBRyxxQkFBcUIsQ0FBQztRQW1DM0MseUJBQW9CLEdBQUcsQ0FBQyxTQUFTLEVBQVEsRUFBRTtZQUNqRCxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSx5QkFBeUIsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDN0UsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUU7Z0JBQ2hCLElBQUksQ0FBQyxjQUFjLGdCQUEwQixDQUFDO2FBQy9DO2lCQUFNO2dCQUNMLElBQUksQ0FBQyxjQUFjLG9CQUE4QixDQUFDO2FBQ25EO1lBQ0QsSUFBSSxDQUFDLDJCQUEyQixDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQzVD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QUMsa0JBQWtCLEVBQUU7Z0JBQ3pFLE9BQU87YUFDUjtZQUVELE1BQU0sa0JBQWtCLEdBQUcsc0JBQXNCLENBQUMsa0JBQWtCLENBQUM7WUFDckUsSUFBSSxDQUFDLG1CQUFtQixHQUFHLE1BQU0sa0JBQWtCLENBQUMsU0FBUyxDQUFDLHlEQUF5RCxDQUFDLENBQUM7UUFDM0gsQ0FBQztLQUFBO0NBdUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXZsTm90aWZpY2F0aW9uIH0gZnJvbSAnQGF2bC1jb250cm9scy9pbnRlcmZhY2VzJztcclxuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0IH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IHNraXBXaGlsZSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcclxuaW1wb3J0IHsgUG9zaXRpb25BbmltYXRpb24gfSBmcm9tICcuL2RpcmVjdGl2ZXMvYW5pbWF0ZS1zdGFjay5kaXJlY3RpdmUnO1xyXG5pbXBvcnQgeyBBTklNQVRJT05fRFVSQVRJT04sIEFDVElPTl9CVVRUT05fTUVTU0FHRSB9IGZyb20gJy4vYXZsLW5vdGlmaWNhdGlvbi1jb250YWluZXIuY29uc3RzJztcclxuaW1wb3J0IHsgU25hY2tiYXJNZXRob2REZXNjcmlwdGlvbiB9IGZyb20gJy4vZGlyZWN0aXZlcy9zaG93LWhpZGUtc25hY2tiYXIuZGlyZWN0aXZlJztcclxuXHJcbi8qKiBAaGlkZGVuICovXHJcbmV4cG9ydCBjbGFzcyBTbmFja2JhclN0YWNrIHtcclxuICAvKiogQGhpZGRlbiAqL1xyXG4gIHB1YmxpYyBidXR0b25MYWJlbDogc3RyaW5nO1xyXG5cclxuICAvKiogQGhpZGRlbiAqL1xyXG4gIHB1YmxpYyBub3RpZmljYXRpb25MaXN0OiBBdmxOb3RpZmljYXRpb25bXSA9IFtdO1xyXG5cclxuICAvKiogQGhpZGRlbiAqL1xyXG4gIHB1YmxpYyBhY3RpdmVOb3RpZmljYXRpb24kOiBCZWhhdmlvclN1YmplY3Q8QXZsTm90aWZpY2F0aW9uPiA9IG5ldyBCZWhhdmlvclN1YmplY3QodW5kZWZpbmVkKTtcclxuXHJcbiAgLyoqIEBoaWRkZW4gKi9cclxuICBwdWJsaWMgc3RhY2tBbmltYXRpb246IFBvc2l0aW9uQW5pbWF0aW9uO1xyXG5cclxuICAvKiogQGhpZGRlbiAqL1xyXG4gIHB1YmxpYyBzbmFja2JhckFuaW1hdGlvbjogUG9zaXRpb25BbmltYXRpb247XHJcblxyXG4gIC8qKiBAaGlkZGVuICovXHJcbiAgcHVibGljIHN0YWNrSW5kaWNhdG9yID0gZmFsc2U7XHJcblxyXG4gIC8qKiBAaGlkZGVuICovXHJcbiAgcHVibGljIHN0YWNrSW5kaWNhdG9yQnV0dG9uTGFiZWw6IHN0cmluZztcclxuXHJcbiAgLyoqIEBoaWRkZW4gKi9cclxuICBwdWJsaWMgcHJldmlvdXNOb3RpZmljYXRpb246IEF2bE5vdGlmaWNhdGlvbjtcclxuXHJcbiAgLyoqIEBoaWRkZW4gKi9cclxuICBwdWJsaWMgbWV0aG9kRGVzY3JpcHRpb246IFNuYWNrYmFyTWV0aG9kRGVzY3JpcHRpb247XHJcbiAgXHJcbiAgLyoqIEBoaWRkZW4gKi9cclxuICBwdWJsaWMgcmVvcGVuOiBib29sZWFuO1xyXG4gIFxyXG4gIC8qKiBAaGlkZGVuICovXHJcbiAgcHVibGljIGRpc21pc3NlZFNpbGVudGx5OiBib29sZWFuO1xyXG5cclxuICAvKiogQGhpZGRlbiAqL1xyXG4gIHB1YmxpYyBhY3Rpb25CdXR0b25NZXNzYWdlID0gQUNUSU9OX0JVVFRPTl9NRVNTQUdFO1xyXG5cclxuICBjb25zdHJ1Y3RvcihzdGFja1R5cGU6IHN0cmluZykge1xyXG4gICAgdGhpcy50cmFuc2xhdGVMYWJlbHMoKTtcclxuICAgIHRoaXMubWV0aG9kRGVzY3JpcHRpb24gPSBuZXcgU25hY2tiYXJNZXRob2REZXNjcmlwdGlvbih1bmRlZmluZWQsIHVuZGVmaW5lZClcclxuICAgIHRoaXMuYWN0aXZlTm90aWZpY2F0aW9uJFxyXG4gICAgICAucGlwZShza2lwV2hpbGUobm90aWZpY2F0aW9uID0+IG5vdGlmaWNhdGlvbiA9PT0gdW5kZWZpbmVkKSlcclxuICAgICAgLnN1YnNjcmliZSgobm90aWZpY2F0aW9uOiBBdmxOb3RpZmljYXRpb24pID0+IHtcclxuICAgICAgICBpZiAobm90aWZpY2F0aW9uKSB7XHJcbiAgICAgICAgICBpZiAodGhpcy5ub3RpZmljYXRpb25MaXN0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoXHJcbiAgICAgICAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuTmV4dE5vdGlmaWNhdGlvbihzdGFja1R5cGUpO1xyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgdGhpcy5wcmV2aW91c05vdGlmaWNhdGlvbiA/IEFOSU1BVElPTl9EVVJBVElPTiA6IDBcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMub3Blbk5leHROb3RpZmljYXRpb24oc3RhY2tUeXBlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5yZXNldFZhbHVlcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIHRyYW5zbGF0ZUxhYmVscygpIHtcclxuICAgIGlmICghQXZsTG9jYWxpemF0aW9uU2VydmljZSB8fCAhQXZsTG9jYWxpemF0aW9uU2VydmljZS50cmFuc2xhdGlvblNlcnZpY2UpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRyYW5zbGF0aW9uU2VydmljZSA9IEF2bExvY2FsaXphdGlvblNlcnZpY2UudHJhbnNsYXRpb25TZXJ2aWNlO1xyXG4gICAgdGhpcy5hY3Rpb25CdXR0b25NZXNzYWdlID0gYXdhaXQgdHJhbnNsYXRpb25TZXJ2aWNlLnRyYW5zbGF0ZSgnVml6Qm94Lk5vdGlmaWNhdGlvbkNvbnRhaW5lci5fWF9tb3JlX1RZUEVfbm90aWZpY2F0aW9ucycpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvcGVuTmV4dE5vdGlmaWNhdGlvbiA9IChzdGFja1R5cGUpOiB2b2lkID0+IHtcclxuICAgIHRoaXMubWV0aG9kRGVzY3JpcHRpb24gPSBuZXcgU25hY2tiYXJNZXRob2REZXNjcmlwdGlvbignc2hvdycsICF0aGlzLnJlb3Blbik7XHJcbiAgICBpZiAoIXRoaXMucmVvcGVuKSB7XHJcbiAgICAgIHRoaXMuc3RhY2tBbmltYXRpb24gPSBQb3NpdGlvbkFuaW1hdGlvbi5Ub1RvcDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc3RhY2tBbmltYXRpb24gPSBQb3NpdGlvbkFuaW1hdGlvbi5Gcm9tU3RhY2s7XHJcbiAgICB9XHJcbiAgICB0aGlzLnNldFN0YWNrSW5kaWNhdG9yUHJvcGVydGllcyhzdGFja1R5cGUpO1xyXG4gICAgdGhpcy5yZW9wZW4gPSBmYWxzZTtcclxuICAgIHRoaXMuZGlzbWlzc2VkU2lsZW50bHkgPSBmYWxzZTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIHJlc2V0VmFsdWVzID0gKCkgPT4ge1xyXG4gICAgdGhpcy5ub3RpZmljYXRpb25MaXN0ID0gW107XHJcbiAgICB0aGlzLnByZXZpb3VzTm90aWZpY2F0aW9uID0gdW5kZWZpbmVkO1xyXG4gICAgdGhpcy5zdGFja0luZGljYXRvciA9IHVuZGVmaW5lZDtcclxuICB9O1xyXG4gIHByaXZhdGUgc2V0U3RhY2tJbmRpY2F0b3JQcm9wZXJ0aWVzID0gKHN0YWNrVHlwZTogc3RyaW5nKTogdm9pZCA9PiB7XHJcbiAgICBjb25zdCBub3RpZmljYXRpb25zQ291bnQgPSB0aGlzLm5vdGlmaWNhdGlvbkxpc3QubGVuZ3RoO1xyXG4gICAgdGhpcy5zdGFja0luZGljYXRvciA9IG5vdGlmaWNhdGlvbnNDb3VudCA+IDE7XHJcbiAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dChcclxuICAgICAgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMucHJldmlvdXNOb3RpZmljYXRpb24gPSB0aGlzLm5vdGlmaWNhdGlvbkxpc3Rbbm90aWZpY2F0aW9uc0NvdW50LTFdO1xyXG4gICAgICAgIHRoaXMuYnV0dG9uTGFiZWwgPSB0aGlzLnNldEJ1dHRvbkxhYmVsKG5vdGlmaWNhdGlvbnNDb3VudCwgc3RhY2tUeXBlKTtcclxuICAgICAgICB0aGlzLnN0YWNrSW5kaWNhdG9yQnV0dG9uTGFiZWwgPSB0aGlzLnNldEJ1dHRvbkxhYmVsKG5vdGlmaWNhdGlvbnNDb3VudCAtIDEsIHN0YWNrVHlwZSk7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xyXG4gICAgICB9LFxyXG4gICAgICB0aGlzLnByZXZpb3VzTm90aWZpY2F0aW9uID8gQU5JTUFUSU9OX0RVUkFUSU9OIDogMFxyXG4gICAgKTtcclxuICB9O1xyXG4gIHByaXZhdGUgc2V0QnV0dG9uTGFiZWwgPSAobm90aWZpY2F0aW9uc0NvdW50OiBudW1iZXIsIHR5cGU6IHN0cmluZyk6IHN0cmluZyA9PiB7XHJcbiAgICByZXR1cm4gbm90aWZpY2F0aW9uc0NvdW50ID4gMFxyXG4gICAgICA/IHRoaXMuYWN0aW9uQnV0dG9uTWVzc2FnZVxyXG4gICAgICAgIC5yZXBsYWNlKCdfVFlQRSAnLCB0eXBlID09PSAnaW5mbycgPyAnJyA6IHR5cGUgKyAnICcpXHJcbiAgICAgICAgLnJlcGxhY2UoJ19YJywgU3RyaW5nKG5vdGlmaWNhdGlvbnNDb3VudCkpXHJcbiAgICAgIDogbnVsbDtcclxuICB9O1xyXG59XHJcbiJdfQ==