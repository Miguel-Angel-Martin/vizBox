var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
import { BehaviorSubject } from 'rxjs';
import { skipWhile } from 'rxjs/operators';
import { ANIMATION_DURATION, ACTION_BUTTON_MESSAGE } from './avl-notification-container.consts';
import { SnackbarMethodDescription } from './directives/show-hide-snackbar.directive';
/** @hidden */
export class SnackbarStack {
    constructor(stackType) {
        /** @hidden */
        this.notificationList = [];
        /** @hidden */
        this.activeNotification$ = new BehaviorSubject(undefined);
        /** @hidden */
        this.stackIndicator = false;
        /** @hidden */
        this.actionButtonMessage = ACTION_BUTTON_MESSAGE;
        this.openNextNotification = (stackType) => {
            this.methodDescription = new SnackbarMethodDescription('show', !this.reopen);
            if (!this.reopen) {
                this.stackAnimation = 1 /* ToTop */;
            }
            else {
                this.stackAnimation = 4 /* FromStack */;
            }
            this.setStackIndicatorProperties(stackType);
            this.reopen = false;
            this.dismissedSilently = false;
        };
        this.resetValues = () => {
            this.notificationList = [];
            this.previousNotification = undefined;
            this.stackIndicator = undefined;
        };
        this.setStackIndicatorProperties = (stackType) => {
            const notificationsCount = this.notificationList.length;
            this.stackIndicator = notificationsCount > 1;
            const timeout = setTimeout(() => {
                this.previousNotification = this.notificationList[notificationsCount - 1];
                this.buttonLabel = this.setButtonLabel(notificationsCount, stackType);
                this.stackIndicatorButtonLabel = this.setButtonLabel(notificationsCount - 1, stackType);
                clearTimeout(timeout);
            }, this.previousNotification ? ANIMATION_DURATION : 0);
        };
        this.setButtonLabel = (notificationsCount, type) => {
            return notificationsCount > 0
                ? this.actionButtonMessage
                    .replace('_TYPE ', type === 'info' ? '' : type + ' ')
                    .replace('_X', String(notificationsCount))
                : null;
        };
        this.translateLabels();
        this.methodDescription = new SnackbarMethodDescription(undefined, undefined);
        this.activeNotification$
            .pipe(skipWhile(notification => notification === undefined))
            .subscribe((notification) => {
            if (notification) {
                if (this.notificationList.length > 0) {
                    const timeout = setTimeout(() => {
                        this.openNextNotification(stackType);
                        clearTimeout(timeout);
                    }, this.previousNotification ? ANIMATION_DURATION : 0);
                }
                else {
                    this.openNextNotification(stackType);
                }
            }
            else {
                this.resetValues();
            }
        });
    }
    translateLabels() {
        return __awaiter(this, void 0, void 0, function* () {
            if (!AvlLocalizationService || !AvlLocalizationService.translationService) {
                return;
            }
            const translationService = AvlLocalizationService.translationService;
            this.actionButtonMessage = yield translationService.translate('VizBox.NotificationContainer._X_more_TYPE_notifications');
        });
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic25hY2tiYXItc3RhY2suanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9ub3RpZmljYXRpb24vc3JjL2xpYi9jb21wb25lbnRzL2F2bC1ub3RpZmljYXRpb24tY29udGFpbmVyL3NuYWNrYmFyLXN0YWNrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUNBLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDdkMsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRTNDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxxQkFBcUIsRUFBRSxNQUFNLHFDQUFxQyxDQUFDO0FBQ2hHLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxNQUFNLDJDQUEyQyxDQUFDO0FBRXRGLGNBQWM7QUFDZCxNQUFNLE9BQU8sYUFBYTtJQXFDeEIsWUFBWSxTQUFpQjtRQWpDN0IsY0FBYztRQUNQLHFCQUFnQixHQUFzQixFQUFFLENBQUM7UUFFaEQsY0FBYztRQUNQLHdCQUFtQixHQUFxQyxJQUFJLGVBQWUsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQVE5RixjQUFjO1FBQ1AsbUJBQWMsR0FBRyxLQUFLLENBQUM7UUFpQjlCLGNBQWM7UUFDUCx3QkFBbUIsR0FBRyxxQkFBcUIsQ0FBQztRQW1DM0MseUJBQW9CLEdBQUcsQ0FBQyxTQUFTLEVBQVEsRUFBRTtZQUNqRCxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSx5QkFBeUIsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDN0UsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUU7Z0JBQ2hCLElBQUksQ0FBQyxjQUFjLGdCQUEwQixDQUFDO2FBQy9DO2lCQUFNO2dCQUNMLElBQUksQ0FBQyxjQUFjLG9CQUE4QixDQUFDO2FBQ25EO1lBQ0QsSUFBSSxDQUFDLDJCQUEyQixDQUFDLFNBQVMsQ0FBQyxD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c0JBQXNCLENBQUMsa0JBQWtCLEVBQUU7Z0JBQ3pFLE9BQU87YUFDUjtZQUVELE1BQU0sa0JBQWtCLEdBQUcsc0JBQXNCLENBQUMsa0JBQWtCLENBQUM7WUFDckUsSUFBSSxDQUFDLG1CQUFtQixHQUFHLE1BQU0sa0JBQWtCLENBQUMsU0FBUyxDQUFDLHlEQUF5RCxDQUFDLENBQUM7UUFDM0gsQ0FBQztLQUFBO0NBdUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXZsTm90aWZpY2F0aW9uIH0gZnJvbSAnQGF2bC1pbnRlcmZhY2VzL2ludGVyZmFjZXMnO1xyXG5pbXBvcnQgeyBCZWhhdmlvclN1YmplY3QgfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgc2tpcFdoaWxlIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xyXG5pbXBvcnQgeyBQb3NpdGlvbkFuaW1hdGlvbiB9IGZyb20gJy4vZGlyZWN0aXZlcy9hbmltYXRlLXN0YWNrLmRpcmVjdGl2ZSc7XHJcbmltcG9ydCB7IEFOSU1BVElPTl9EVVJBVElPTiwgQUNUSU9OX0JVVFRPTl9NRVNTQUdFIH0gZnJvbSAnLi9hdmwtbm90aWZpY2F0aW9uLWNvbnRhaW5lci5jb25zdHMnO1xyXG5pbXBvcnQgeyBTbmFja2Jhck1ldGhvZERlc2NyaXB0aW9uIH0gZnJvbSAnLi9kaXJlY3RpdmVzL3Nob3ctaGlkZS1zbmFja2Jhci5kaXJlY3RpdmUnO1xyXG5cclxuLyoqIEBoaWRkZW4gKi9cclxuZXhwb3J0IGNsYXNzIFNuYWNrYmFyU3RhY2sge1xyXG4gIC8qKiBAaGlkZGVuICovXHJcbiAgcHVibGljIGJ1dHRvbkxhYmVsOiBzdHJpbmc7XHJcblxyXG4gIC8qKiBAaGlkZGVuICovXHJcbiAgcHVibGljIG5vdGlmaWNhdGlvbkxpc3Q6IEF2bE5vdGlmaWNhdGlvbltdID0gW107XHJcblxyXG4gIC8qKiBAaGlkZGVuICovXHJcbiAgcHVibGljIGFjdGl2ZU5vdGlmaWNhdGlvbiQ6IEJlaGF2aW9yU3ViamVjdDxBdmxOb3RpZmljYXRpb24+ID0gbmV3IEJlaGF2aW9yU3ViamVjdCh1bmRlZmluZWQpO1xyXG5cclxuICAvKiogQGhpZGRlbiAqL1xyXG4gIHB1YmxpYyBzdGFja0FuaW1hdGlvbjogUG9zaXRpb25BbmltYXRpb247XHJcblxyXG4gIC8qKiBAaGlkZGVuICovXHJcbiAgcHVibGljIHNuYWNrYmFyQW5pbWF0aW9uOiBQb3NpdGlvbkFuaW1hdGlvbjtcclxuXHJcbiAgLyoqIEBoaWRkZW4gKi9cclxuICBwdWJsaWMgc3RhY2tJbmRpY2F0b3IgPSBmYWxzZTtcclxuXHJcbiAgLyoqIEBoaWRkZW4gKi9cclxuICBwdWJsaWMgc3RhY2tJbmRpY2F0b3JCdXR0b25MYWJlbDogc3RyaW5nO1xyXG5cclxuICAvKiogQGhpZGRlbiAqL1xyXG4gIHB1YmxpYyBwcmV2aW91c05vdGlmaWNhdGlvbjogQXZsTm90aWZpY2F0aW9uO1xyXG5cclxuICAvKiogQGhpZGRlbiAqL1xyXG4gIHB1YmxpYyBtZXRob2REZXNjcmlwdGlvbjogU25hY2tiYXJNZXRob2REZXNjcmlwdGlvbjtcclxuICBcclxuICAvKiogQGhpZGRlbiAqL1xyXG4gIHB1YmxpYyByZW9wZW46IGJvb2xlYW47XHJcbiAgXHJcbiAgLyoqIEBoaWRkZW4gKi9cclxuICBwdWJsaWMgZGlzbWlzc2VkU2lsZW50bHk6IGJvb2xlYW47XHJcblxyXG4gIC8qKiBAaGlkZGVuICovXHJcbiAgcHVibGljIGFjdGlvbkJ1dHRvbk1lc3NhZ2UgPSBBQ1RJT05fQlVUVE9OX01FU1NBR0U7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHN0YWNrVHlwZTogc3RyaW5nKSB7XHJcbiAgICB0aGlzLnRyYW5zbGF0ZUxhYmVscygpO1xyXG4gICAgdGhpcy5tZXRob2REZXNjcmlwdGlvbiA9IG5ldyBTbmFja2Jhck1ldGhvZERlc2NyaXB0aW9uKHVuZGVmaW5lZCwgdW5kZWZpbmVkKVxyXG4gICAgdGhpcy5hY3RpdmVOb3RpZmljYXRpb24kXHJcbiAgICAgIC5waXBlKHNraXBXaGlsZShub3RpZmljYXRpb24gPT4gbm90aWZpY2F0aW9uID09PSB1bmRlZmluZWQpKVxyXG4gICAgICAuc3Vic2NyaWJlKChub3RpZmljYXRpb246IEF2bE5vdGlmaWNhdGlvbikgPT4ge1xyXG4gICAgICAgIGlmIChub3RpZmljYXRpb24pIHtcclxuICAgICAgICAgIGlmICh0aGlzLm5vdGlmaWNhdGlvbkxpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dChcclxuICAgICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5OZXh0Tm90aWZpY2F0aW9uKHN0YWNrVHlwZSk7XHJcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB0aGlzLnByZXZpb3VzTm90aWZpY2F0aW9uID8gQU5JTUFUSU9OX0RVUkFUSU9OIDogMFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5vcGVuTmV4dE5vdGlmaWNhdGlvbihzdGFja1R5cGUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLnJlc2V0VmFsdWVzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgdHJhbnNsYXRlTGFiZWxzKCkge1xyXG4gICAgaWYgKCFBdmxMb2NhbGl6YXRpb25TZXJ2aWNlIHx8ICFBdmxMb2NhbGl6YXRpb25TZXJ2aWNlLnRyYW5zbGF0aW9uU2VydmljZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdHJhbnNsYXRpb25TZXJ2aWNlID0gQXZsTG9jYWxpemF0aW9uU2VydmljZS50cmFuc2xhdGlvblNlcnZpY2U7XHJcbiAgICB0aGlzLmFjdGlvbkJ1dHRvbk1lc3NhZ2UgPSBhd2FpdCB0cmFuc2xhdGlvblNlcnZpY2UudHJhbnNsYXRlKCdWaXpCb3guTm90aWZpY2F0aW9uQ29udGFpbmVyLl9YX21vcmVfVFlQRV9ub3RpZmljYXRpb25zJyk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9wZW5OZXh0Tm90aWZpY2F0aW9uID0gKHN0YWNrVHlwZSk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5tZXRob2REZXNjcmlwdGlvbiA9IG5ldyBTbmFja2Jhck1ldGhvZERlc2NyaXB0aW9uKCdzaG93JywgIXRoaXMucmVvcGVuKTtcclxuICAgIGlmICghdGhpcy5yZW9wZW4pIHtcclxuICAgICAgdGhpcy5zdGFja0FuaW1hdGlvbiA9IFBvc2l0aW9uQW5pbWF0aW9uLlRvVG9wO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zdGFja0FuaW1hdGlvbiA9IFBvc2l0aW9uQW5pbWF0aW9uLkZyb21TdGFjaztcclxuICAgIH1cclxuICAgIHRoaXMuc2V0U3RhY2tJbmRpY2F0b3JQcm9wZXJ0aWVzKHN0YWNrVHlwZSk7XHJcbiAgICB0aGlzLnJlb3BlbiA9IGZhbHNlO1xyXG4gICAgdGhpcy5kaXNtaXNzZWRTaWxlbnRseSA9IGZhbHNlO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgcmVzZXRWYWx1ZXMgPSAoKSA9PiB7XHJcbiAgICB0aGlzLm5vdGlmaWNhdGlvbkxpc3QgPSBbXTtcclxuICAgIHRoaXMucHJldmlvdXNOb3RpZmljYXRpb24gPSB1bmRlZmluZWQ7XHJcbiAgICB0aGlzLnN0YWNrSW5kaWNhdG9yID0gdW5kZWZpbmVkO1xyXG4gIH07XHJcbiAgcHJpdmF0ZSBzZXRTdGFja0luZGljYXRvclByb3BlcnRpZXMgPSAoc3RhY2tUeXBlOiBzdHJpbmcpOiB2b2lkID0+IHtcclxuICAgIGNvbnN0IG5vdGlmaWNhdGlvbnNDb3VudCA9IHRoaXMubm90aWZpY2F0aW9uTGlzdC5sZW5ndGg7XHJcbiAgICB0aGlzLnN0YWNrSW5kaWNhdG9yID0gbm90aWZpY2F0aW9uc0NvdW50ID4gMTtcclxuICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KFxyXG4gICAgICAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5wcmV2aW91c05vdGlmaWNhdGlvbiA9IHRoaXMubm90aWZpY2F0aW9uTGlzdFtub3RpZmljYXRpb25zQ291bnQtMV07XHJcbiAgICAgICAgdGhpcy5idXR0b25MYWJlbCA9IHRoaXMuc2V0QnV0dG9uTGFiZWwobm90aWZpY2F0aW9uc0NvdW50LCBzdGFja1R5cGUpO1xyXG4gICAgICAgIHRoaXMuc3RhY2tJbmRpY2F0b3JCdXR0b25MYWJlbCA9IHRoaXMuc2V0QnV0dG9uTGFiZWwobm90aWZpY2F0aW9uc0NvdW50IC0gMSwgc3RhY2tUeXBlKTtcclxuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHRoaXMucHJldmlvdXNOb3RpZmljYXRpb24gPyBBTklNQVRJT05fRFVSQVRJT04gOiAwXHJcbiAgICApO1xyXG4gIH07XHJcbiAgcHJpdmF0ZSBzZXRCdXR0b25MYWJlbCA9IChub3RpZmljYXRpb25zQ291bnQ6IG51bWJlciwgdHlwZTogc3RyaW5nKTogc3RyaW5nID0+IHtcclxuICAgIHJldHVybiBub3RpZmljYXRpb25zQ291bnQgPiAwXHJcbiAgICAgID8gdGhpcy5hY3Rpb25CdXR0b25NZXNzYWdlXHJcbiAgICAgICAgLnJlcGxhY2UoJ19UWVBFICcsIHR5cGUgPT09ICdpbmZvJyA/ICcnIDogdHlwZSArICcgJylcclxuICAgICAgICAucmVwbGFjZSgnX1gnLCBTdHJpbmcobm90aWZpY2F0aW9uc0NvdW50KSlcclxuICAgICAgOiBudWxsO1xyXG4gIH07XHJcbn1cclxuIl19