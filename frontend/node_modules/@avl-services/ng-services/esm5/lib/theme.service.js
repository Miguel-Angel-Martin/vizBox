import { __decorate } from "tslib";
import { Injectable } from '@angular/core';
import { Subject } from 'rxjs';
import * as i0 from "@angular/core";
import * as ɵngcc0 from '@angular/core';
var ThemeService = /** @class */ (function () {
    function ThemeService() {
        this.themeChangedSubject = new Subject();
        this.themeChanged = this.themeChangedSubject.asObservable();
        this.changeTheme();
    }
    Object.defineProperty(ThemeService.prototype, "isDarkTheme", {
        get: function () {
            if (this._isDarkTheme == null) {
                this._isDarkTheme = localStorage.getItem('theme') === 'dark' || false;
            }
            return this._isDarkTheme;
        },
        set: function (newValue) {
            this._isDarkTheme = newValue;
            localStorage.setItem('theme', newValue === true ? 'dark' : 'light');
            this.themeChangedSubject.next(this.getCurrentTheme());
            this.changeTheme();
        },
        enumerable: true,
        configurable: true
    });
    ThemeService.prototype.getCurrentTheme = function () {
        return this.isDarkTheme ? 'dark' : 'light';
    };
    ThemeService.prototype.changeTheme = function () {
        document.body.setAttribute('theme', this.getCurrentTheme());
    };
    ThemeService.ɵprov = i0.ɵɵdefineInjectable({ factory: function ThemeService_Factory() { return new ThemeService(); }, token: ThemeService, providedIn: "root" });
ThemeService.ɵfac = function ThemeService_Factory(t) { return new (t || ThemeService)(); };
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ThemeService, [{
        type: Injectable,
        args: [{
                providedIn: 'root'
            }]
    }], function () { return []; }, null); })();
    return ThemeService;
}());
export { ThemeService };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGhlbWUuc2VydmljZS5qcyIsInNvdXJjZXMiOlsibmc6L0Bhdmwtc2VydmljZXMvbmctc2VydmljZXMvbGliL3RoZW1lLnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUMvQjs7QUFJQTtBQUVtQixJQTBCakI7QUFDUSxRQVpBLHdCQUFtQixHQUFHLElBQUksT0FBTyxFQUFVLENBQUM7QUFDdEQsUUFBa0IsaUJBQVksR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsWUFBWSxFQUFFLENBQUM7QUFDekUsUUFVSSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7QUFDdkIsSUFBRSxDQUFDO0FBQ0gsSUEzQkUsc0JBQVcscUNBQVc7QUFBSSxhQUExQjtBQUFjLFlBQ1osSUFBSSxJQUFJLENBQUMsWUFBWSxJQUFJLElBQUksRUFBRTtBQUNuQyxnQkFBTSxJQUFJLENBQUMsWUFBWSxHQUFHLFlBQVksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssTUFBTSxJQUFJLEtBQUssQ0FBQztBQUM1RSxhQUFLO0FBQ0wsWUFBSSxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUM7QUFDN0IsUUFBRSxDQUFDO0FBQ0YsYUFBQyxVQUF1QixRQUFpQjtBQUMxQyxZQUFJLElBQUksQ0FBQyxZQUFZLEdBQUcsUUFBUSxDQUFDO0FBQ2pDLFlBQUksWUFBWSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsUUFBUSxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUN4RSxZQUFJLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDLENBQUM7QUFDMUQsWUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7QUFDdkIsUUFBRSxDQUFDO0FBRUg7QUFBMEI7QUFBMkIsT0FSbEQ7QUFDSCxJQVVTLHNDQUFlLEdBQXRCO0FBQWMsUUFDWixPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDO0FBQy9DLElBQUUsQ0FBQztBQUVILElBQVUsa0NBQVcsR0FBbkI7QUFBYyxRQUNaLFFBQVEsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUMsQ0FBQztBQUNoRSxJQUFFLENBQUM7QUFFSDtJQTVCYSxZQUFZLHdCQUh4QixVQUFVLENBQUMsY0FDVixVQUFVLEVBQUUsTUFBTTtDQUNuQixDQUFDLFFBQ1csWUFBWSxDQWdDeEI7Ozs7O2dEQUNEO0FBQUMsdUJBdkNEO0FBQUUsQ0FzQ0QsQUFoQ0QsSUFnQ0M7O0FBdENBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBS0EsQUE0QkEsQUFYQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBV0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQTFCQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQU5BLEFBV0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBMUJBLEFBQUEsQUFIQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBZ0NBLEFBdENBLEFBc0NBLEFBaENBLEFBZ0NBLEFBaENBLEFBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJztcclxuXHJcbkBJbmplY3RhYmxlKHtcclxuICBwcm92aWRlZEluOiAncm9vdCdcclxufSlcclxuZXhwb3J0IGNsYXNzIFRoZW1lU2VydmljZSB7XHJcblxyXG4gIHByaXZhdGUgX2lzRGFya1RoZW1lOiBib29sZWFuO1xyXG5cclxuICBwdWJsaWMgZ2V0IGlzRGFya1RoZW1lKCk6IGJvb2xlYW4ge1xyXG4gICAgaWYgKHRoaXMuX2lzRGFya1RoZW1lID09IG51bGwpIHtcclxuICAgICAgdGhpcy5faXNEYXJrVGhlbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGhlbWUnKSA9PT0gJ2RhcmsnIHx8IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuX2lzRGFya1RoZW1lO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IGlzRGFya1RoZW1lKG5ld1ZhbHVlOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLl9pc0RhcmtUaGVtZSA9IG5ld1ZhbHVlO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RoZW1lJywgbmV3VmFsdWUgPT09IHRydWUgPyAnZGFyaycgOiAnbGlnaHQnKTtcclxuICAgIHRoaXMudGhlbWVDaGFuZ2VkU3ViamVjdC5uZXh0KHRoaXMuZ2V0Q3VycmVudFRoZW1lKCkpO1xyXG4gICAgdGhpcy5jaGFuZ2VUaGVtZSgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB0aGVtZUNoYW5nZWRTdWJqZWN0ID0gbmV3IFN1YmplY3Q8c3RyaW5nPigpO1xyXG4gIHB1YmxpYyByZWFkb25seSB0aGVtZUNoYW5nZWQgPSB0aGlzLnRoZW1lQ2hhbmdlZFN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XHJcblxyXG4gIHB1YmxpYyBnZXRDdXJyZW50VGhlbWUoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLmlzRGFya1RoZW1lID8gJ2RhcmsnIDogJ2xpZ2h0JztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2hhbmdlVGhlbWUoKSB7XHJcbiAgICBkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZSgndGhlbWUnLCB0aGlzLmdldEN1cnJlbnRUaGVtZSgpKTtcclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5jaGFuZ2VUaGVtZSgpO1xyXG4gIH1cclxuXHJcbn1cclxuIl19