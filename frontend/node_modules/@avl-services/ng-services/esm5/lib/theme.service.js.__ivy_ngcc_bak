import { __decorate } from "tslib";
import { Injectable } from '@angular/core';
import { Subject } from 'rxjs';
import * as i0 from "@angular/core";
var ThemeService = /** @class */ (function () {
    function ThemeService() {
        this.themeChangedSubject = new Subject();
        this.themeChanged = this.themeChangedSubject.asObservable();
        this.changeTheme();
    }
    Object.defineProperty(ThemeService.prototype, "isDarkTheme", {
        get: function () {
            if (this._isDarkTheme == null) {
                this._isDarkTheme = localStorage.getItem('theme') === 'dark' || false;
            }
            return this._isDarkTheme;
        },
        set: function (newValue) {
            this._isDarkTheme = newValue;
            localStorage.setItem('theme', newValue === true ? 'dark' : 'light');
            this.themeChangedSubject.next(this.getCurrentTheme());
            this.changeTheme();
        },
        enumerable: true,
        configurable: true
    });
    ThemeService.prototype.getCurrentTheme = function () {
        return this.isDarkTheme ? 'dark' : 'light';
    };
    ThemeService.prototype.changeTheme = function () {
        document.body.setAttribute('theme', this.getCurrentTheme());
    };
    ThemeService.ɵprov = i0.ɵɵdefineInjectable({ factory: function ThemeService_Factory() { return new ThemeService(); }, token: ThemeService, providedIn: "root" });
    ThemeService = __decorate([
        Injectable({
            providedIn: 'root'
        })
    ], ThemeService);
    return ThemeService;
}());
export { ThemeService };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGhlbWUuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Bhdmwtc2VydmljZXMvbmctc2VydmljZXMvIiwic291cmNlcyI6WyJsaWIvdGhlbWUuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sTUFBTSxDQUFDOztBQUsvQjtJQTRCRTtRQVhRLHdCQUFtQixHQUFHLElBQUksT0FBTyxFQUFVLENBQUM7UUFDcEMsaUJBQVksR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsWUFBWSxFQUFFLENBQUM7UUFXckUsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ3JCLENBQUM7SUExQkQsc0JBQVcscUNBQVc7YUFBdEI7WUFDRSxJQUFJLElBQUksQ0FBQyxZQUFZLElBQUksSUFBSSxFQUFFO2dCQUM3QixJQUFJLENBQUMsWUFBWSxHQUFHLFlBQVksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssTUFBTSxJQUFJLEtBQUssQ0FBQzthQUN2RTtZQUNELE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQztRQUMzQixDQUFDO2FBQ0QsVUFBdUIsUUFBaUI7WUFDdEMsSUFBSSxDQUFDLFlBQVksR0FBRyxRQUFRLENBQUM7WUFDN0IsWUFBWSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsUUFBUSxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNwRSxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQyxDQUFDO1lBQ3RELElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNyQixDQUFDOzs7T0FOQTtJQVdNLHNDQUFlLEdBQXRCO1FBQ0UsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQztJQUM3QyxDQUFDO0lBRU8sa0NBQVcsR0FBbkI7UUFDRSxRQUFRLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDLENBQUM7SUFDOUQsQ0FBQzs7SUExQlUsWUFBWTtRQUh4QixVQUFVLENBQUM7WUFDVixVQUFVLEVBQUUsTUFBTTtTQUNuQixDQUFDO09BQ1csWUFBWSxDQWdDeEI7dUJBdENEO0NBc0NDLEFBaENELElBZ0NDO1NBaENZLFlBQVkiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJztcclxuXHJcbkBJbmplY3RhYmxlKHtcclxuICBwcm92aWRlZEluOiAncm9vdCdcclxufSlcclxuZXhwb3J0IGNsYXNzIFRoZW1lU2VydmljZSB7XHJcblxyXG4gIHByaXZhdGUgX2lzRGFya1RoZW1lOiBib29sZWFuO1xyXG5cclxuICBwdWJsaWMgZ2V0IGlzRGFya1RoZW1lKCk6IGJvb2xlYW4ge1xyXG4gICAgaWYgKHRoaXMuX2lzRGFya1RoZW1lID09IG51bGwpIHtcclxuICAgICAgdGhpcy5faXNEYXJrVGhlbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGhlbWUnKSA9PT0gJ2RhcmsnIHx8IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuX2lzRGFya1RoZW1lO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IGlzRGFya1RoZW1lKG5ld1ZhbHVlOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLl9pc0RhcmtUaGVtZSA9IG5ld1ZhbHVlO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RoZW1lJywgbmV3VmFsdWUgPT09IHRydWUgPyAnZGFyaycgOiAnbGlnaHQnKTtcclxuICAgIHRoaXMudGhlbWVDaGFuZ2VkU3ViamVjdC5uZXh0KHRoaXMuZ2V0Q3VycmVudFRoZW1lKCkpO1xyXG4gICAgdGhpcy5jaGFuZ2VUaGVtZSgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB0aGVtZUNoYW5nZWRTdWJqZWN0ID0gbmV3IFN1YmplY3Q8c3RyaW5nPigpO1xyXG4gIHB1YmxpYyByZWFkb25seSB0aGVtZUNoYW5nZWQgPSB0aGlzLnRoZW1lQ2hhbmdlZFN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XHJcblxyXG4gIHB1YmxpYyBnZXRDdXJyZW50VGhlbWUoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLmlzRGFya1RoZW1lID8gJ2RhcmsnIDogJ2xpZ2h0JztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2hhbmdlVGhlbWUoKSB7XHJcbiAgICBkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZSgndGhlbWUnLCB0aGlzLmdldEN1cnJlbnRUaGVtZSgpKTtcclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5jaGFuZ2VUaGVtZSgpO1xyXG4gIH1cclxuXHJcbn1cclxuIl19